(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0337d0e6"],{"35e4":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=[{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"}]},"52ad":function(e,t,n){"use strict";n("f85f")},8325:function(e,t,n){"use strict";var a=n("b311");if(!a)throw new Error("you should npm install `clipboard` --save at first ");var r={bind:function(e,t){if("success"===t.arg)e._v_clipboard_success=t.value;else if("error"===t.arg)e._v_clipboard_error=t.value;else{var n=new a(e,{text:function(){return t.value},action:function(){return"cut"===t.arg?"cut":"copy"}});n.on("success",(function(t){var n=e._v_clipboard_success;n&&n(t)})),n.on("error",(function(t){var n=e._v_clipboard_error;n&&n(t)})),e._v_clipboard=n}},update:function(e,t){"success"===t.arg?e._v_clipboard_success=t.value:"error"===t.arg?e._v_clipboard_error=t.value:(e._v_clipboard.text=function(){return t.value},e._v_clipboard.action=function(){return"cut"===t.arg?"cut":"copy"})},unbind:function(e,t){"success"===t.arg?delete e._v_clipboard_success:"error"===t.arg?delete e._v_clipboard_error:(e._v_clipboard.destroy(),delete e._v_clipboard)}},s=function(e){e.directive("Clipboard",r)};window.Vue&&(window.clipboard=r,Vue.use(s)),r.install=s;t["a"]=r},b103:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-tabs",{class:"mobile"===e.device?"tab-mobile":"tab-pc",staticStyle:{"margin-top":"10px"},attrs:{stretch:""},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[n("el-tab-pane",{attrs:{label:e.$t("coin.approveTabs")[1].label,name:"approve"}}),n("el-tab-pane",{attrs:{label:e.$t("coin.approveTabs")[2].label,name:"transferFrom"}})],1),n("el-card",{staticClass:"box-card",class:"mobile"===e.device?"app-container":"app-container-pc"},[n("div",[n("el-row",{staticStyle:{"margin-top":"16px"},attrs:{gutter:40}},[n("el-col",{staticStyle:{"margin-top":"8px","margin-bottom":"10px"},attrs:{xs:24,sm:24,md:24,lg:24}},[n("div",{staticClass:"label-title"},[n("span",{staticStyle:{color:"red"}},[e._v("*")]),e._v(e._s(e.$t("coin.selectToken")))]),n("el-autocomplete",{directives:[{name:"loading",rawName:"v-loading",value:e.addressCheckLoading,expression:"addressCheckLoading"}],staticStyle:{width:"100%"},attrs:{"fetch-suggestions":e.querySearch,placeholder:e.$t("coin.selectTokenTip")},on:{select:e.handleSelect,focus:e.addressCheckReset,input:e.addressCheck},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.item;return[n("div",{staticClass:"name"},[n("span",{staticStyle:{"font-weight":"600"}},[e._v(e._s(a.value))]),e._v(" - "+e._s(a.longName))])]}}]),model:{value:e.coinValue,callback:function(t){e.coinValue=t},expression:"coinValue"}},[n("i",{staticClass:"el-icon-search el-input__icon",attrs:{slot:"prefix"},on:{click:e.handleIconClick},slot:"prefix"})])],1)],1)],1),"approve"===e.activeName?n("div",[n("el-row",{staticStyle:{"margin-top":"30px"},attrs:{gutter:40}},[n("el-col",{staticStyle:{"margin-top":"0px","margin-bottom":"16px"},attrs:{xs:24,sm:24,md:24,lg:24}},[n("div",{staticClass:"label-title"},[n("span",{staticStyle:{color:"red"}},[e._v("*")]),e._v(e._s(e.$t("coin.approveAddress")))]),n("el-input",{attrs:{placeholder:e.$t("coin.inputAddress")},model:{value:e.approveAddress,callback:function(t){e.approveAddress=t},expression:"approveAddress"}})],1),n("el-col",{staticStyle:{"margin-bottom":"0px"},attrs:{xs:24,sm:24,md:24,lg:24}},[n("div",{staticClass:"label-title"},[n("span",{staticStyle:{color:"red"}},[e._v("*")]),e._v(e._s(e.$t("coin.amount")))]),n("el-input",{attrs:{onkeyup:"value = value.replace(/^\\D*(\\d*(?:\\.\\d{0,18})?).*$/g, '$1')",placeholder:e.$t("coin.plsInputAmount")},model:{value:e.approveAmount,callback:function(t){e.approveAmount=t},expression:"approveAmount"}})],1)],1),n("div",{staticStyle:{"margin-top":"20px","text-align":"center"}},[n("el-button",{staticStyle:{"margin-right":"16px"},attrs:{type:"primary",loading:e.approveLoading},on:{click:e.tokenApprove}},[e._v(e._s(e.$t("coin.approve")))])],1)],1):e._e(),"transferFrom"===e.activeName?n("div",[n("el-row",{staticStyle:{"margin-top":"30px"},attrs:{gutter:20}},[n("el-col",{staticStyle:{"margin-top":"0px","margin-bottom":"16px"},attrs:{xs:24,sm:24,md:24,lg:24}},[n("div",{staticClass:"label-title"},[n("span",{staticStyle:{color:"red"}},[e._v("*")]),e._v(e._s(e.$t("coin.authorizer")))]),n("el-input",{attrs:{placeholder:e.$t("coin.inputAddress")},model:{value:e.from,callback:function(t){e.from=t},expression:"from"}})],1),n("el-col",{staticStyle:{"margin-top":"0px","margin-bottom":"16px"},attrs:{xs:24,sm:24,md:24,lg:24}},[n("div",{staticClass:"label-title"},[n("span",{staticStyle:{color:"red"}},[e._v("*")]),e._v(e._s(e.$t("coin.receiver")))]),n("el-input",{attrs:{placeholder:e.$t("coin.inputAddress")},model:{value:e.to,callback:function(t){e.to=t},expression:"to"}})],1),n("el-col",{staticStyle:{"margin-bottom":"0px"},attrs:{xs:24,sm:24,md:24,lg:24}},[n("div",{staticClass:"label-title"},[n("span",{staticStyle:{color:"red"}},[e._v("*")]),e._v(e._s(e.$t("coin.amount")))]),n("el-input",{attrs:{onkeyup:"value = value.replace(/^\\D*(\\d*(?:\\.\\d{0,18})?).*$/g, '$1')",placeholder:e.$t("coin.plsInputAmount")},model:{value:e.transferAmount,callback:function(t){e.transferAmount=t},expression:"transferAmount"}})],1)],1),n("div",{staticStyle:{"margin-top":"20px","text-align":"center"}},[n("el-button",{staticStyle:{"margin-right":"16px"},attrs:{type:"primary",loading:e.transferLoading},on:{click:e.transferFrom}},[e._v(e._s(e.$t("coin.approveTabs")[2].label))])],1)],1):e._e()])],1)},r=[],s=n("1da1"),i=n("5530"),o=(n("96cf"),n("d3b7"),n("ddb0"),n("b0c0"),n("4de4"),n("498a"),n("25f0"),n("a9e3"),n("2f62")),c=n("e0e0"),l=n("35e4"),u=(n("f71e"),n("8325")),p=n("901e"),d=n.n(p),m=n("ed08"),f=(n("e35c"),n("c0d8")),b=n.n(f),v={name:"Approve",directives:{clipboard:u["a"]},data:function(){return{apiUrl:"",apiKey:"",scanUrl:"",scan:"Scan",zeroAddress:"0x0000000000000000000000000000000000000000",activeName:"approve",chains:[],chainValue:"0",checkAddress:"",web3Instance:null,coinValue:"",coins:[],tokenAddress:"",tokenContract:null,tokenSymbol:"",decimals:18,addressCheckLoading:!1,addressCheckStatus:-1,approveAddress:"",approveAmount:"",approveLoading:!1,from:"",to:"",transferAmount:"",notifyInstance:null,transferLoading:!1,showNodata:!1}},computed:Object(i["a"])({},Object(o["b"])(["web3","wallet","chainId","device"])),watch:{web3:function(e){},wallet:function(e){this.checkAddress=e},chainId:function(e){this.getChainInfos(),this.resetChainSelect(e)}},created:function(){this.getSomeChainInfos()},mounted:function(){},methods:{chainSelect:function(e){var t=this.chains[parseInt(e)].rpc;this.web3Instance=new b.a(t),this.web3Instance||console.error("init web3 error... mainNet rpc = "+t)},resetChainSelect:function(e){for(var t=0;t<this.chains.length;t++)this.chains[t].id===e&&(this.chainValue=t+"",this.chainSelect(t+""))},getSomeChainInfos:function(){for(var e=["Ethereum","BSC","Polygon","Optimism","Arbitrum","Avalanche","OKXChain","Heco","Fantom"],t=0,n=[],a=0;a<c["a"].length;a++)if(e.indexOf(c["a"][a].nameAlias)>-1){var r={id:0,label:"",value:"",icon:"",scan:"",rpc:"",api:"",keys:"",swaps:[]};r.id=c["a"][a].id,r.label=c["a"][a].nameAlias,r.value=t+"",r.icon=c["a"][a].icon,r.scan=c["a"][a].url,r.rpc=c["a"][a].rpc,r.api=c["a"][a].api;var s=c["a"][a].keys;r.keys=s[Math.floor(Math.random()*s.length)],r.swaps=c["a"][a].swaps,n.push(r),t++}this.chains=[],this.chains=n},getChainInfos:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,a,r,s,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=0;case 1:if(!(n<c["a"].length)){t.next=28;break}if(e.chainId!==c["a"][n].id){t.next=25;break}if(e.scanUrl=c["a"][n].url,e.scan=c["a"][n].scan,e.apiUrl=c["a"][n].api,a=c["a"][n].keys,e.apiKey=a[Math.floor(Math.random()*a.length)],r=c["a"][n].tokens,s=[],!(r.length>0)){t.next=23;break}i=0;case 12:if(!(i<r.length)){t.next=23;break}if(r[i].address!==e.zeroAddress){t.next=15;break}return t.abrupt("continue",20);case 15:o={value:"",longName:"",address:""},o.value=r[i].name,o.longName=r[i].longName,o.address=r[i].address,s.push(o);case 20:i++,t.next=12;break;case 23:e.coins=[],e.coins=s;case 25:n++,t.next=1;break;case 28:case"end":return t.stop()}}),t)})))()},querySearch:function(e,t){var n=this.coins;e&&n.filter(this.createFilter(e));t(n)},createFilter:function(e){return function(t){return 0===t.value.toLowerCase().indexOf(e.toLowerCase())}},handleSelect:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:a=0;case 1:if(!(a<t.coins.length)){n.next=11;break}if(e.address!==t.coins[a].address){n.next=8;break}return t.tokenSymbol=t.coins[a].value,t.tokenAddress=t.coins[a].address,n.next=7,t.createContract();case 7:return n.abrupt("break",11);case 8:a++,n.next=1;break;case 11:case"end":return n.stop()}}),n)})))()},handleIconClick:function(e){console.log(e)},createContract:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.checkWeb3()){t.next=2;break}return t.abrupt("return");case 2:if(""!==e.tokenAddress){t.next=4;break}return t.abrupt("return");case 4:if(e.tokenContract=new e.web3.eth.Contract(l["a"],e.tokenAddress),e.tokenContract){t.next=8;break}return console.error("init contract error"),t.abrupt("return");case 8:return t.next=10,e.tokenContract.methods.decimals().call();case 10:e.decimals=t.sent;case 11:case"end":return t.stop()}}),t)})))()},addressCheckReset:function(){this.addressCheckLoading=!1,this.addressCheckStatus=-1},addressCheck:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!==e.coinValue){t.next=2;break}return t.abrupt("return");case 2:n=0;case 3:if(!(n<e.coins.length)){t.next=9;break}if(e.coinValue!==e.coins[n].value){t.next=6;break}return t.abrupt("return");case 6:n++,t.next=3;break;case 9:if(e.checkWeb3()){t.next=11;break}return t.abrupt("return");case 11:if(e.coinValue=e.coinValue.trim(),!1!==e.web3.utils.isAddress(e.coinValue)){t.next=15;break}return e.addressCheckStatus=1,t.abrupt("return");case 15:return e.addressCheckLoading=!0,t.prev=16,e.tokenContract=new e.web3.eth.Contract(l["a"],e.coinValue),t.next=20,e.tokenContract.methods.symbol().call();case 20:a=t.sent,e.tokenSymbol=a,e.tokenAddress=e.coinValue,r={value:a,longName:e.coinValue,address:e.coinValue},e.coins.push(r),e.coinValue=a,e.addressCheckStatus=0,e.showCustomizeAddress=!1,t.next=33;break;case 30:t.prev=30,t.t0=t["catch"](16),e.addressCheckStatus=1;case 33:if(e.addressCheckLoading=!1,!e.tokenContract){t.next=38;break}return t.next=37,e.tokenContract.methods.decimals().call();case 37:e.decimals=t.sent;case 38:case"end":return t.stop()}}),t,null,[[16,30]])})))()},tokenApprove:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.checkWeb3()){t.next=2;break}return t.abrupt("return");case 2:return n=new d.a(e.approveAmount).times(e.multiplier()).toString(10),console.log("approve amount: "+n),e.approveLoading=!0,t.prev=5,a=e,t.next=9,e.tokenContract.methods.approve(e.approveAddress,n).send({from:e.wallet}).on("error",(function(e){})).on("transactionHash",(function(e){a.hashNotify(e)})).on("receipt",(function(e){a.notifyInstance.close()}));case 9:e.approveLoading=!1,e.success(),t.next=17;break;case 13:t.prev=13,t.t0=t["catch"](5),e.approveLoading=!1,e.fail();case 17:case"end":return t.stop()}}),t,null,[[5,13]])})))()},transferFrom:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.checkWeb3()){t.next=2;break}return t.abrupt("return");case 2:return n=new d.a(e.transferAmount).times(e.multiplier()).toString(10),console.log("transfer amount: "+n),e.transferLoading=!0,t.prev=5,a=e,t.next=9,e.tokenContract.methods.transferFrom(e.from,e.to,n).send({from:e.wallet}).on("error",(function(e){})).on("transactionHash",(function(e){a.hashNotify(e)})).on("receipt",(function(e){a.notifyInstance.close()}));case 9:e.transferLoading=!1,e.success(),t.next=17;break;case 13:t.prev=13,t.t0=t["catch"](5),e.transferLoading=!1,e.fail();case 17:case"end":return t.stop()}}),t,null,[[5,13]])})))()},hashNotify:function(e){var t=this.scanUrl+"tx/"+e;"mobile"===this.device&&(t="javaScript:void(0);");var n="View on "+this.scan+" : "+e.substring(0,8)+"...",a=this.$t("coin.transDetails"),r=Object(m["i"])(a,t,n);this.notifyInstance=this.$notify({dangerouslyUseHTMLString:!0,message:r,duration:8e3,customClass:"notify-class",showClose:!1})},checkWeb3:function(){return!!this.web3||(this.$message({message:this.$t("coin.connectWallet"),type:"error",duration:1500}),!1)},multiplier:function(){var e=Number(this.decimals);return new d.a(10).pow(e)},multiplierByDecimals:function(e){var t=Number(e);return new d.a(10).pow(t)},success:function(){this.$message({type:"success",center:!0,dangerouslyUseHTMLString:!0,message:"<strong>"+this.$t("global.success")+"</strong>"})},wait:function(){this.$message({type:"warning",center:!0,dangerouslyUseHTMLString:!0,message:"<strong>"+this.$t("global.tryAgainLater")+"</strong>"})},fail:function(){this.$message({type:"error",center:!0,dangerouslyUseHTMLString:!0,message:"<strong>"+this.$t("global.fail")+"</strong>"})}}},h=v,y=(n("52ad"),n("2877")),g=Object(y["a"])(h,a,r,!1,null,"34f69234",null);t["default"]=g.exports},f85f:function(e,t,n){}}]);