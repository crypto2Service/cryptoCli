(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-12b2cae3"],{"35e4":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=[{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"}]},bf88:function(e,t,n){"use strict";n("e617")},e617:function(e,t,n){},f067:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",["exchange"===e.activeName?n("div",[n("el-row",{staticStyle:{margin:"20px 4px"},attrs:{gutter:0}},[n("el-col",{attrs:{xs:24,sm:24,md:5,lg:8}},[n("span",{staticStyle:{"margin-left":"100px"}})]),n("el-col",{staticStyle:{"max-width":"360px"},attrs:{xs:24,sm:24,md:14,lg:8}},[n("div",{staticStyle:{"text-align":"center"}},[n("h2",{staticStyle:{color:"#333"}},[e._v(e._s(e.$t("coin.exchangeTabs")[0].label))])]),n("el-card",{staticClass:"box-card",class:"mobile"===e.device?"offset-mobile":"offset-pc"},[n("div",{staticStyle:{margin:"auto 10px"}},[n("div",{staticStyle:{"margin-top":"4px",display:"flex","align-items":"center"}},[n("el-button",{staticStyle:{"margin-right":"4px",color:"#555","font-size":"13px","font-weight":"500"},attrs:{type:"text"}},[e._v(e._s(e.$t("coin.tradePlatform")))]),n("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:e.$t("global.plsSelect"),size:"small"},on:{change:e.swapSelect},model:{value:e.swap.value,callback:function(t){e.$set(e.swap,"value",t)},expression:"swap.value"}},e._l(e.swaps,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}},[n("span",{staticStyle:{float:"left"}},[e._v(e._s(t.label))])])})),1)],1),n("div",{staticStyle:{margin:"12px 0 0 0",color:"rgb(81,64,107)","font-size":"18px","font-weight":"600"}},[e._v(e._s(e.$t("coin.exchange1")))]),n("div",{staticStyle:{margin:"8px 0 0 0",color:"rgb(81,64,107)","font-size":"12px","font-weight":"500"}},[e._v(e._s(e.$t("coin.tradeToken")))]),n("div",{staticStyle:{width:"100%",height:"0.2px",background:"gray",opacity:"0.2","margin-top":"10px","margin-bottom":"20px"}}),n("div",{staticStyle:{"margin-top":"16px",display:"flex","align-items":"center","justify-content":"space-between"}},[n("div",{staticStyle:{display:"inline-flex","align-items":"center"}},[n("div",{staticClass:"token-title",on:{click:function(t){return e.selectToken("A")}}},[""===e.imageLoad(e.tokenA.symbol)||e.tokenA.user?n("span",{staticClass:"unknown-image"},[e._v("?")]):n("img",{staticClass:"token-image",attrs:{alt:"",src:e.imageLoad(e.tokenA.symbol)}}),n("span",{staticStyle:{margin:"auto 6px",color:"#333","font-size":"14px","font-weight":"bold"}},[e._v(e._s(e.tokenA.symbol))]),n("i",{staticClass:"el-icon-caret-bottom",staticStyle:{"font-weight":"800","font-size":"12px"}})]),n("i",{staticClass:"el-icon-copy-document",staticStyle:{color:"#999","font-size":"14px","margin-left":"10px"},on:{click:function(t){return e.handleClipboard(e.tokenA.address,t)}}})]),n("div",{staticStyle:{display:"inline-flex","align-items":"center",color:"#777","margin-right":"12px"}},[n("span",{staticStyle:{"margin-right":"2px","font-size":"12px"}},[e._v(e._s(e.$t("global.balance"))+":")]),n("span",{staticStyle:{"font-size":"12px"}},[e._v(e._s(""===e.tokenA.balance?e.$t("coin.loading"):e.tokenA.balance))])])]),n("div",{class:e.focusAFlag?"highlight-border":"dark-border",staticStyle:{"margin-top":"4px","border-radius":"12px",background:"#eeeaf4",padding:"8px 16px 10px 16px"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.tokenA.amount,expression:"tokenA.amount"}],staticClass:"input-token",attrs:{placeHolder:"0.0",type:"number"},domProps:{value:e.tokenA.amount},on:{input:[function(t){t.target.composing||e.$set(e.tokenA,"amount",t.target.value)},function(t){return e.inputChange("A")}],focus:function(t){return e.focusInput("A")},blur:function(t){return e.blurInput("A")}}}),n("div",{class:""!==e.tokenA.balance&&e.tokenA.balance>0?"element-show":"element-hide",staticStyle:{"text-align":"end"}},e._l(e.tokenAFixed,(function(t,a){return n("span",{key:a,staticClass:"fixed-button",class:e.tokenAKey===a?"fixed-selected":"fixed-unselect",on:{click:function(t){return e.setFixedAmount("A",a)}}},[e._v(e._s(a))])})),0)]),n("div",{staticStyle:{margin:"16px auto","text-align":"center"}},[n("i",{staticClass:"el-icon-sort sort-button",on:{click:e.sortCoin}})]),n("div",{staticStyle:{"margin-top":"20px",display:"flex","align-items":"center","justify-content":"space-between"}},[n("div",{staticStyle:{display:"inline-flex","align-items":"center"}},[n("div",{staticClass:"token-title",on:{click:function(t){return e.selectToken("B")}}},[""===e.imageLoad(e.tokenB.symbol)||e.tokenB.user?n("span",{staticClass:"unknown-image"},[e._v("?")]):n("img",{staticClass:"token-image",attrs:{alt:"",src:e.imageLoad(e.tokenB.symbol)}}),n("span",{staticStyle:{margin:"auto 6px",color:"#333","font-size":"14px","font-weight":"bold"}},[e._v(e._s(e.tokenB.symbol))]),n("i",{staticClass:"el-icon-caret-bottom",staticStyle:{"font-weight":"800","font-size":"12px"}})]),n("i",{staticClass:"el-icon-copy-document",staticStyle:{color:"#999","font-size":"14px","margin-left":"10px"},on:{click:function(t){return e.handleClipboard(e.tokenB.address,t)}}})]),n("div",{staticStyle:{display:"inline-flex","align-items":"center",color:"#777","margin-right":"12px"}},[n("span",{staticStyle:{"margin-right":"2px","font-size":"12px"}},[e._v(e._s(e.$t("global.balance"))+":")]),n("span",{staticStyle:{"font-size":"12px"}},[e._v(e._s(""===e.tokenB.balance?e.$t("coin.loading"):e.tokenB.balance))])])]),n("div",{class:e.focusBFlag?"highlight-border":"dark-border",staticStyle:{"margin-top":"4px","border-radius":"12px",background:"#eeeaf4",padding:"8px 16px 20px 16px"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.tokenB.amount,expression:"tokenB.amount"}],staticClass:"input-token",attrs:{placeHolder:"0.0",type:"number"},domProps:{value:e.tokenB.amount},on:{input:[function(t){t.target.composing||e.$set(e.tokenB,"amount",t.target.value)},function(t){return e.inputChange("B")}],focus:function(t){return e.focusInput("B")},blur:function(t){return e.blurInput("B")}}})]),e.tokenA2TokenB>0&&e.tokenB2TokenA>0?n("div",{staticStyle:{color:"rgb(81,64,107)",margin:"12px 12px",display:"flex","align-items":"center","justify-content":"space-between"}},[n("span",{staticStyle:{"font-size":"12px",color:"#FF7E00","font-weight":"600"}},[e._v(e._s(e.$t("coin.price")))]),n("div",{staticStyle:{display:"inline-block","text-align":"end"}},[e.priceSwitch?n("span",{staticStyle:{"font-size":"12px","font-weight":"600"}},[e._v("1 "+e._s(e.tokenA.symbol)+" = "+e._s(e.tokenA2TokenB)+" "+e._s(e.tokenB.symbol))]):n("span",{staticStyle:{"font-size":"12px","font-weight":"600"}},[e._v("1 "+e._s(e.tokenB.symbol)+" = "+e._s(e.tokenB2TokenA)+" "+e._s(e.tokenA.symbol))]),n("i",{staticClass:"el-icon-refresh",staticStyle:{"margin-left":"12px","font-size":"13px"},on:{click:function(t){e.priceSwitch=!e.priceSwitch}}})])]):e._e(),""===e.selectedAccount?n("div",{staticClass:"lp-unselect lp-button lp-top"},[n("span",[e._v(e._s(e.$t("coin.connectWallet")))])]):""===e.tokenA.balance||""===e.swap.state?n("div",{staticClass:"lp-unselect lp-button lp-top"},[n("span",[e._v(e._s(e.$t("coin.searchPrice")))])]):"0"===e.swap.state||"01"===e.swap.state||"02"===e.swap.state?n("div",{staticClass:"lp-unselect lp-button lp-top"},[n("span",[e._v(e._s(e.$t("coin.insufficientLp")))])]):""===e.tokenA.amount?n("div",{staticClass:"lp-unselect lp-button lp-top"},[n("span",[e._v(e._s(e.$t("coin.inputAmt")))])]):parseFloat(e.tokenA.amount)>parseFloat(e.tokenA.balance)?n("div",{staticClass:"lp-unselect lp-button lp-top"},[n("span",[e._v(e._s(e.tokenA.symbol)+" "+e._s(e.$t("coin.insufficientBalance")))])]):n("div",{staticStyle:{"margin-top":"20px"}},[n("div",{staticClass:"lp-selected lp-button",class:e.enableApproveA?"element-show":"element-none",staticStyle:{"margin-top":"8px"},on:{click:e.approveA}},[n("span",[e._v(e._s(e.$t("coin.approve"))+" "+e._s(e.tokenA.symbol))])]),n("div",{staticClass:"lp-button",class:e.enableApproveA?"lp-unselect":"lp-selected",staticStyle:{"margin-top":"8px"},on:{click:e.exchange}},[n("span",[e._v(e._s(e.$t("coin.swap")))])]),"0"!==e.priceImpact?n("div",{staticStyle:{margin:"18px 12px 12px 0px",display:"flex","align-items":"center","justify-content":"space-between",color:"#7a6eaa","font-size":"13px"}},[n("span",[e._v(e._s(e.$t("coin.priceImpact")))]),n("span",[e._v(" "+e._s(e.priceImpact)+"% ")])]):e._e(),n("div",{staticStyle:{margin:"18px 12px 12px 0px",display:"flex","align-items":"center","justify-content":"space-between",color:"#7a6eaa","font-size":"13px"}},[n("span",[e._v(e._s(e.$t("coin.swapRoute")))]),n("span",[e._v(" "+e._s(e.tokenA.symbol)),n("i",{staticClass:"el-icon-arrow-right",staticStyle:{"font-size":"12px"}}),e._l(e.swap.pathSymbols,(function(t,a){return n("span",[e._v(e._s(t)),n("i",{staticClass:"el-icon-arrow-right",staticStyle:{"font-size":"12px"}})])})),e._v(" "+e._s(e.tokenB.symbol)+" ")],2)])])])])],1),n("el-col",{attrs:{xs:24,sm:24,md:5,lg:8}},[n("span",{staticStyle:{"margin-left":"100px"}})])],1)],1):e._e(),n("el-dialog",{attrs:{title:e.$t("coin.selectToken"),"show-close":!0,"close-on-click-modal":!1,visible:e.newCoin.dialogVisible,width:"mobile"!==e.device?"35%":"96%",top:"mobile"!==e.device?"15vh":"30vh"},on:{"update:visible":function(t){return e.$set(e.newCoin,"dialogVisible",t)}}},[n("div",{staticStyle:{display:"flex","align-items":"center"}},[n("el-autocomplete",{directives:[{name:"loading",rawName:"v-loading",value:e.newCoin.checkLoading,expression:"newCoin.checkLoading"}],staticStyle:{width:"100%"},attrs:{"fetch-suggestions":e.querySearch,placeholder:e.$t("coin.selectTokenTip")},on:{select:e.newHandleSelect,focus:e.newAddressCheckReset,input:e.newAddressCheck},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.item;return[n("div",{staticClass:"name"},[e._v(e._s(a.value)+" - "+e._s(a.address))])]}}]),model:{value:e.newCoin.value,callback:function(t){e.$set(e.newCoin,"value",t)},expression:"newCoin.value"}},[n("i",{staticClass:"el-icon-search el-input__icon",attrs:{slot:"prefix"},on:{click:e.handleIconClick},slot:"prefix"})])],1),n("div",{staticStyle:{height:"300px","overflow-y":"scroll"}},e._l(e.tokenList,(function(t,a){return n("div",{staticClass:"coin-item",on:{click:function(n){return e.coinConfirm(t)}}},[n("div",{staticStyle:{display:"inline-flex","align-items":"center"}},[""===e.imageLoad(t.symbol)||t.user?n("span",{staticClass:"unknown-image"},[e._v("?")]):n("img",{staticClass:"token-image",staticStyle:{width:"20px",height:"20px"},attrs:{alt:"",src:e.imageLoad(t.symbol)}}),n("div",{staticStyle:{"margin-left":"8px",display:"inline-block"}},[n("div",{staticStyle:{"font-weight":"600","font-size":"13px","font-family":"Arial"}},[e._v(e._s(t.symbol))]),n("div",{staticStyle:{"margin-top":"4px","font-size":"12px"}},[e._v(e._s(t.user?e.$t("coin.userAdd"):"")),t.user?n("span",{staticStyle:{margin:"auto 2px","font-weight":"800"}},[e._v("Â·")]):e._e(),e._v(e._s(t.longName))])])]),n("span",[e._v(e._s(""==t.balance?"0":t.balance))])])})),0),n("div",{staticStyle:{"margin-top":"16px","text-align":"center"},on:{click:function(t){e.newCoin.dialogVisible=!1}}},[n("span",{staticClass:"close-button"},[e._v(e._s(e.$t("global.close")))])])]),n("el-dialog",{attrs:{title:"","show-close":!0,"close-on-click-modal":!1,visible:e.addDialogVisible,width:"mobile"!==e.device?"35%":"96%",top:(e.device,"30vh")},on:{"update:visible":function(t){e.addDialogVisible=t}}},[n("div",{staticStyle:{"text-align":"center",margin:"20px auto"}},[n("i",{staticClass:"el-icon-top",staticStyle:{"font-size":"50px",color:"#FF7E00","font-weight":"500"}})]),n("div",{staticStyle:{"text-align":"center","font-size":"18px"}},[e._v(" "+e._s(e.$t("coin.submitTrade"))+" ")]),""!==e.tokenB.address&&e.tokenB.address!==e.zeroAddress?n("div",{staticStyle:{"margin-top":"16px","text-align":"center"},on:{click:function(t){return e.addCoin()}}},[n("span",{staticClass:"close-button",staticStyle:{padding:"10px 26px 10px 26px"}},[e._v(e._s(e.$t("global.add"))+" "+e._s(e.tokenB.symbol)+" "+e._s(e.$t("coin.toWallet"))+" "),n("i",{staticClass:"el-icon-s-finance",staticStyle:{"font-size":"16px",color:"#FF7E00","font-weight":"500"}})])]):e._e(),n("div",{staticStyle:{"margin-top":"36px","text-align":"center"},on:{click:function(t){e.addDialogVisible=!1}}},[n("el-button",{staticStyle:{width:"80%","font-weight":"bold"},attrs:{type:"primary",round:""}},[e._v(e._s(e.$t("global.close")))])],1),n("div",{staticStyle:{cursor:"pointer","margin-top":"6px","text-align":"center","font-weight":"bold","font-size":"12px",color:"#FF7E00"}},[n("a",{attrs:{href:e.scanLink(),target:"_blank"}},[e._v(e._s(e.$t("coin.scanTips"))+" "+e._s(e.scan)+" "+e._s(e.$t("coin.scanTips1")))])])])],1)},s=[],r=n("1da1"),o=n("5530"),i=(n("96cf"),n("d3b7"),n("25f0"),n("b680"),n("ddb0"),n("d81d"),n("b0c0"),n("4de4"),n("498a"),n("ac1f"),n("1276"),n("b64b"),n("a9e3"),n("2f62")),c=n("e0e0"),l=n("e35c"),u=n("f71e"),p=n("ed08"),d=n("901e"),m=n.n(d),k=n("35e4"),h={name:"Exchange",data:function(){return{activeName:"exchange",apiUrl:"",apiKey:"",scanUrl:"",scan:"Scan",key:"",tokenContract:null,zeroAddress:"0x0000000000000000000000000000000000000000",addressCheckLoading:!1,addressCheckStatus:-1,routerContract:null,factoryContract:null,pairContract:null,swapLoading:!1,routerAbi:"",tokenA:{symbol:"BNB",decimals:18,address:"",amount:"",balance:"",allowance:"",loading:!1,reverse:"",pathAmount:"",user:!1,initAmount:""},tokenB:{symbol:"USDT",decimals:18,address:"",amount:"",balance:"",allowance:"",loading:!1,reverse:"",pathAmount:"",user:!1,initAmount:""},tokenList:[],baseCoinList:[],newCoin:{tokenSelect:"",dialogVisible:!1,symbol:"",value:"",address:"",decimals:"",checkLoading:!1},swaps:[],swap:{value:"",factory:"",router:"",wETH:"",pair:"",paths:[],pathSymbols:[],state:""},swapValue:"",tokenAFixed:{"25%":.25,"50%":.5,"75%":.75,MAX:1},tokenAKey:"",selectedAccount:"",focusAFlag:!1,focusBFlag:!1,setLpFlag:!1,priceSwitch:!0,chainLps:{56:"0x2B318d87E3afEb88442E7979372D469334BA6C95",42161:"0x2B318d87E3afEb88442E7979372D469334BA6C95",137:"0x2B318d87E3afEb88442E7979372D469334BA6C95",8453:"0x9Bc59b7A120BD472c8D116de2f9fc0a54bFd0a23",97:"0x1FB3A23B3B7fe8e50Ec17899C3888B2B9E18E144"},uniChainLp:"",uniLpContract:null,addDialogVisible:!1,txHash:"",slippage:60}},computed:Object(o["a"])(Object(o["a"])({},Object(i["b"])(["web3","wallet","chainId","device"])),{},{enableApproveA:function(){return this.tokenA.address!==this.zeroAddress&&(""!==this.tokenA.amount&&""!==this.tokenA.allowance&&new m.a(this.tokenA.amount).gt(this.tokenA.allowance))},tokenB2TokenA:function(){if(""!==this.tokenA.reverse&&""!==this.tokenB.reverse){var e=new m.a(this.tokenA.reverse).div(this.tokenB.reverse).toString(10);return new m.a(e).gte(1)?parseFloat(new m.a(e).toFixed(6)):parseFloat(new m.a(e).toFixed(12))}if(""!==this.tokenA.pathAmount&&""!==this.tokenB.pathAmount){var t=new m.a(this.tokenA.pathAmount).div(this.tokenB.pathAmount).toString(10);return new m.a(t).gte(1)?parseFloat(new m.a(t).toFixed(6)):parseFloat(new m.a(t).toFixed(12))}return 0},tokenA2TokenB:function(){if(""!==this.tokenA.reverse&&""!==this.tokenB.reverse){var e=new m.a(this.tokenB.reverse).div(this.tokenA.reverse).toString(10);return new m.a(e).gte(1)?parseFloat(new m.a(e).toFixed(6)):parseFloat(new m.a(e).toFixed(12))}if(""!==this.tokenA.pathAmount&&""!==this.tokenB.pathAmount){var t=new m.a(this.tokenB.pathAmount).div(this.tokenA.pathAmount).toString(10);return new m.a(t).gte(1)?parseFloat(new m.a(t).toFixed(6)):parseFloat(new m.a(t).toFixed(12))}return 0},priceImpact:function(){if(""===this.tokenA.amount||"0"===this.tokenA.amount||"0."===this.tokenA.amount||"0.0"===this.tokenA.amount||0===this.tokenA.amount)return"0";if(""===this.tokenA.initAmount||""===this.tokenB.initAmount)return"0";var e=new m.a(this.tokenB.initAmount).div(this.tokenA.initAmount).toString(10),t=this.tokenA2TokenB;if(console.log("initValue: "+e),console.log("value: "+t),0===t||0==e)return"0";if(!isFinite(t))return"0";var n=Math.abs(e-t);n=new m.a(n).times(100).div(e).toString(10);var a=Math.abs(n);if(a>.01){var s=parseFloat(new m.a(a).toFixed(2));return s>100?"100":s}return a>0?"<0.01":"0"}}),watch:{web3:function(e){},wallet:function(e){this.uniChainLp=this.chainLps[this.chainId],this.setLpFlag?(""!==this.selectedAccount&&this.selectedAccount!==e&&this.batchClearValues(),this.uniChainLp?this.getUniChainData():this.changeWallet()):(this.setLpToken(),this.uniChainLp?this.getUniChainData():this.changeWallet()),this.selectedAccount=e},chainId:function(e){this.getChainInfos()}},mounted:function(){this.web3&&this.getChainInfos()},methods:{getChainInfos:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=0;case 1:if(!(n<c["a"].length)){t.next=19;break}if(e.chainId!==c["a"][n].id){t.next=16;break}return e.scan=c["a"][n].scan,e.scanUrl=c["a"][n].url,e.apiUrl=c["a"][n].api,a=c["a"][n].keys,e.key=a[Math.floor(Math.random()*a.length)],e.swaps=c["a"][n].swaps,e.swaps=e.swaps.map((function(e){return Object(o["a"])(Object(o["a"])({},e),{},{value:e.name,label:e.name,wETH:""})})),e.swaps.length>0&&(e.swap.value=e.swaps[0].value,e.swap.router=e.swaps[0].router,e.swap.factory=e.swaps[0].factory),e.tokenList=c["a"][n].tokens,e.tokenList=e.tokenList.map((function(e){return Object(o["a"])(Object(o["a"])({},e),{},{value:e.name,symbol:e.name,user:!1,balance:""})})),e.getBaseCoin(),t.next=16,e.setLpToken();case 16:n++,t.next=1;break;case 19:if(e.wallet&&(e.selectedAccount=e.wallet),e.uniChainLp=e.chainLps[e.chainId],!e.uniChainLp){t.next=26;break}return t.next=24,e.getUniChainData();case 24:t.next=34;break;case 26:return t.next=28,e.executeInit();case 28:return t.next=30,e.getBalanceAndAllowance("A",e.tokenA);case 30:return t.next=32,e.getBalanceAndAllowance("B",e.tokenB);case 32:return t.next=34,e.batchCheckBalance();case 34:case"end":return t.stop()}}),t)})))()},getUniChainData:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,a,s,r,o,i,c,l,u,p,d,k,h,b;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.checkWeb3()){t.next=2;break}return t.abrupt("return");case 2:if(null===e.uniLpContract){n=[{inputs:[{internalType:"address",name:"router",type:"address"},{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"address[]",name:"baseCoins",type:"address[]"},{internalType:"address[]",name:"tokens",type:"address[]"}],name:"queryExchangeLp",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"address[]",name:"",type:"address[]"},{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"router",type:"address"},{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"address[]",name:"paths",type:"address[]"}],name:"getAmountsIn",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"router",type:"address"},{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"address[]",name:"paths",type:"address[]"}],name:"getAmountsOut",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"router",type:"address"},{internalType:"address[]",name:"tokens",type:"address[]"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"amountOutIn",type:"uint256"}],name:"swap",outputs:[],stateMutability:"payable",type:"function"}];try{e.uniLpContract=new e.web3.eth.Contract(n,e.uniChainLp)}catch(w){console.log(w)}}if(0===e.baseCoinList.length&&e.getBaseCoin(),e.wallet){t.next=6;break}return t.abrupt("return");case 6:for(a=[],s=0;s<e.tokenList.length;s++)a.push(e.tokenList[s].address);for(a.unshift(e.tokenB.address),a.unshift(e.tokenA.address),r=e.baseCoinList.filter((function(t){return!(t.address===e.tokenA.address||t.address===e.tokenB.address)})),o=[],i=0;i<r.length;i++)o.push(r[i].address);return t.prev=13,c="0.1",e.tokenA.user?c="100":e.tokenA.address===e.zeroAddress&&(c="0.0001"),l=e.amountToChain(c,e.tokenA.decimals),t.next=19,e.uniLpContract.methods.queryExchangeLp(e.swap.router,l,o,a).call({from:e.wallet});case 19:for(u=t.sent,new m.a(u[0]).gt(0)?(e.swap.state="2",e.tokenA.pathAmount=c,e.tokenB.pathAmount=e.amountFromChain(10,u[0],e.tokenB.decimals),e.tokenA.initAmount=c,e.tokenB.initAmount=e.tokenB.pathAmount):e.swap.state="0",e.swap.paths=[],e.swap.pathSymbols=[],p=0;p<u[1].length;p++)0===p?e.swap.wETH=u[1][0]:e.swap.paths.push(u[1][p]);d=0;case 25:if(!(d<e.swap.paths.length)){t.next=37;break}k=0;case 27:if(!(k<e.baseCoinList.length)){t.next=34;break}if(e.swap.paths[d]!==e.baseCoinList[k].address){t.next=31;break}return e.swap.pathSymbols.push(e.baseCoinList[k].symbol),t.abrupt("break",34);case 31:k++,t.next=27;break;case 34:d++,t.next=25;break;case 37:for(e.tokenA.balance=e.amountFromChain(4,u[2][0],e.tokenA.decimals),e.tokenB.balance=e.amountFromChain(4,u[2][1],e.tokenB.decimals),e.tokenA.allowance=e.amountFromChain(4,u[3][0],e.tokenA.decimals),e.tokenB.allowance=e.amountFromChain(4,u[3][1],e.tokenB.decimals),h=0,b=2;b<u[2].length;b++)e.tokenList[h].balance=e.amountFromChain(4,u[2][b],e.tokenList[h].decimals),h++;t.next=48;break;case 45:t.prev=45,t.t0=t["catch"](13),console.log(t.t0);case 48:case"end":return t.stop()}}),t,null,[[13,45]])})))()},scanLink:function(){return this.scanUrl+"tx/"+this.txHash},executeInit:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.createRouterContract();case 2:return t.next=4,e.getPair();case 4:case"end":return t.stop()}}),t)})))()},sortCoin:function(){var e=this.tokenB;this.tokenB=this.tokenA,this.tokenA=e},inputChange:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var a,s,r,o,i,c,l,u,p,d;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if("1"!==t.swap.state||""!==t.tokenA.reverse&&""!==t.tokenB.reverse){n.next=2;break}return n.abrupt("return");case 2:if("A"!=e){n.next=40;break}if(""!==t.tokenA.amount&&"0"!==t.tokenA.amount&&"0."!==t.tokenA.amount&&"0.0"!==t.tokenA.amount){n.next=6;break}return t.tokenB.amount="",n.abrupt("return");case 6:if("1"!==t.swap.state&&"01"!==t.swap.state){n.next=12;break}a=new m.a(t.tokenA.amount).times(t.tokenB.reverse).div(t.tokenA.reverse),new m.a(a).gte(1)?t.tokenB.amount=parseFloat(new m.a(a).toFixed(6)).toString():t.tokenB.amount=parseFloat(new m.a(a).toFixed(12)).toString(),parseFloat(t.tokenB.amount)>parseFloat(t.tokenB.reverse)?t.swap.state="01":t.swap.state="1",n.next=38;break;case 12:if("2"!==t.swap.state&&"02"!==t.swap.state){n.next=38;break}for(s=[],t.tokenA.address===t.zeroAddress?s.push(t.swap.wETH):s.push(t.tokenA.address),r=0;r<t.swap.paths.length;r++)s.push(t.swap.paths[r]);if(t.tokenB.address===t.zeroAddress?s.push(t.swap.wETH):s.push(t.tokenB.address),n.prev=17,o=t.amountToChain(t.tokenA.amount,t.tokenA.decimals),i=[],!t.uniLpContract){n.next=26;break}return n.next=23,t.uniLpContract.methods.getAmountsOut(t.swap.router,o,s).call();case 23:i=n.sent,n.next=29;break;case 26:return n.next=28,t.routerContract.methods.getAmountsOut(o,s).call();case 28:i=n.sent;case 29:i.length>0&&(t.tokenB.amount=t.amountFromChain(8,i[i.length-1],t.tokenB.decimals)),t.tokenA.pathAmount=t.tokenA.amount,t.tokenB.pathAmount=t.tokenB.amount,t.swap.state="2",n.next=38;break;case 35:n.prev=35,n.t0=n["catch"](17),t.swap.state="02";case 38:n.next=76;break;case 40:if("B"!=e){n.next=76;break}if(""!==t.tokenB.amount&&"0"!==t.tokenB.amount&&"0."!==t.tokenB.amount&&"0.0"!==t.tokenB.amount){n.next=44;break}return t.tokenA.amount="",n.abrupt("return");case 44:if("1"!==t.swap.state&&"01"!==t.swap.state){n.next=50;break}c=new m.a(t.tokenB.amount).times(t.tokenA.reverse).div(t.tokenB.reverse),new m.a(c).gte(1)?t.tokenA.amount=parseFloat(new m.a(c).toFixed(6)).toString():t.tokenA.amount=parseFloat(new m.a(c).toFixed(12)).toString(),parseFloat(t.tokenB.amount)>parseFloat(t.tokenB.reverse)?t.swap.state="01":t.swap.state="1",n.next=76;break;case 50:if("2"!==t.swap.state&&"02"!==t.swap.state){n.next=76;break}for(l=[],t.tokenA.address===t.zeroAddress?l.push(t.swap.wETH):l.push(t.tokenA.address),u=0;u<t.swap.paths.length;u++)l.push(t.swap.paths[u]);if(t.tokenB.address===t.zeroAddress?l.push(t.swap.wETH):l.push(t.tokenB.address),n.prev=55,p=t.amountToChain(t.tokenB.amount,t.tokenB.decimals),d=[],!t.uniLpContract){n.next=64;break}return n.next=61,t.uniLpContract.methods.getAmountsIn(t.swap.router,p,l).call();case 61:d=n.sent,n.next=67;break;case 64:return n.next=66,t.routerContract.methods.getAmountsIn(p,l).call();case 66:d=n.sent;case 67:d.length>0&&(t.tokenA.amount=t.amountFromChain(8,d[0],t.tokenA.decimals)),t.tokenA.pathAmount=t.tokenA.amount,t.tokenB.pathAmount=t.tokenB.amount,t.swap.state="2",n.next=76;break;case 73:n.prev=73,n.t1=n["catch"](55),t.swap.state="02";case 76:case"end":return n.stop()}}),n,null,[[17,35],[55,73]])})))()},focusInput:function(e){"A"==e&&(this.focusAFlag=!0),"B"==e&&(this.focusBFlag=!0)},blurInput:function(e){"A"==e&&(this.focusAFlag=!1),"B"==e&&(this.focusBFlag=!1)},setFixedAmount:function(e,t){if("A"==e){this.tokenAKey=t;var n=this.tokenAFixed[t];this.tokenA.amount=new m.a(this.tokenA.balance).times(n).toString(10)}this.inputChange(e)},setLpToken:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.setTokenInfo("A",e.tokenList[0]),n=!1,a=0;case 3:if(!(a<e.tokenList.length)){t.next=11;break}if("USDT"!=e.tokenList[a].name){t.next=8;break}return e.setTokenInfo("B",e.tokenList[a]),n=!0,t.abrupt("break",11);case 8:a++,t.next=3;break;case 11:n||(1==e.tokenList.length?e.setTokenInfo("B",e.tokenList[0]):e.tokenList.length>1&&e.setTokenInfo("B",e.tokenList[1])),e.setLpFlag=!0;case 13:case"end":return t.stop()}}),t)})))()},changeWallet:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.tokenA.balance="",e.tokenA.allowance="",t.next=4,e.getBalanceAndAllowance("A",e.tokenA);case 4:return e.tokenB.balance="",e.tokenB.allowance="",t.next=8,e.getBalanceAndAllowance("B",e.tokenB);case 8:case"end":return t.stop()}}),t)})))()},setTokenInfo:function(e,t){"A"==e?(this.tokenA.symbol=t.symbol,this.tokenA.address=t.address,this.tokenA.decimals=t.decimals,this.tokenA.balance="",this.tokenA.allowance="",this.tokenA.amount="",this.tokenA.reverse="",this.tokenA.pathAmount="",this.tokenA.initAmount="",this.tokenA.user=t.user,this.tokenAKey=""):"B"==e&&(this.tokenB.symbol=t.symbol,this.tokenB.address=t.address,this.tokenB.decimals=t.decimals,this.tokenB.balance="",this.tokenB.allowance="",this.tokenB.amount="",this.tokenB.reverse="",this.tokenB.pathAmount="",this.tokenB.initAmount="",this.tokenB.user=t.user,this.tokenAKey="")},getTokenInfo:function(e,t){var n=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(n.checkWeb3()){a.next=2;break}return a.abrupt("return");case 2:if(n.wallet){a.next=4;break}return a.abrupt("return");case 4:if(n.setTokenInfo(e,t),"A"==e?n.tokenA.balance=t.balance:"B"==e&&(n.tokenB.balance=t.balance),""!=t.balance){a.next=9;break}return a.next=9,n.checkBalance(e,t);case 9:return a.next=11,n.checkAllowance(e,t);case 11:case"end":return a.stop()}}),a)})))()},getBalanceAndAllowance:function(e,t){var n=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var s,r,o,i,c,l,u;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(a.prev=0,t.address!=n.zeroAddress){a.next=9;break}return a.next=4,n.web3.eth.getBalance(n.wallet);case 4:s=a.sent,r=n.amountFromChain(4,s,t.decimals),"A"==e?n.tokenA.balance=r:"B"==e&&(n.tokenB.balance=r),a.next=19;break;case 9:return o=new n.web3.eth.Contract(k["a"],t.address),a.next=12,o.methods.balanceOf(n.wallet).call();case 12:return i=a.sent,c=n.amountFromChain(4,i,t.decimals),a.next=16,o.methods.allowance(n.wallet,n.swap.router).call();case 16:l=a.sent,u=n.amountFromChain(4,l,t.decimals),"A"==e?(n.tokenA.balance=c,n.tokenA.allowance=u):"B"==e&&(n.tokenB.balance=c,n.tokenB.allowance=u);case 19:a.next=24;break;case 21:a.prev=21,a.t0=a["catch"](0),console.log(a.t0);case 24:case"end":return a.stop()}}),a,null,[[0,21]])})))()},batchClearValues:function(){for(var e=0;e<this.tokenList.length;e++)this.tokenList[e].balance="",this.tokenList[e].allowance=""},batchCheckBalance:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,a,s,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.web3&&e.wallet){t.next=2;break}return t.abrupt("return");case 2:t.prev=2,n=0;case 4:if(!(n<e.tokenList.length)){t.next=22;break}if(""==e.tokenList[n].balance){t.next=7;break}return t.abrupt("continue",19);case 7:if(e.tokenList[n].address!=e.zeroAddress){t.next=14;break}return t.next=10,e.web3.eth.getBalance(e.wallet);case 10:a=t.sent,e.tokenList[n].balance=e.amountFromChain(4,a,e.tokenList[n].decimals),t.next=19;break;case 14:return s=new e.web3.eth.Contract(k["a"],e.tokenList[n].address),t.next=17,s.methods.balanceOf(e.wallet).call();case 17:r=t.sent,e.tokenList[n].balance=e.amountFromChain(4,r,e.tokenList[n].decimals);case 19:n++,t.next=4;break;case 22:t.next=27;break;case 24:t.prev=24,t.t0=t["catch"](2),console.log(t.t0);case 27:case"end":return t.stop()}}),t,null,[[2,24]])})))()},checkBalance:function(e,t){var n=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var s,r,o,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(n.web3){a.next=2;break}return a.abrupt("return");case 2:if(n.wallet){a.next=4;break}return a.abrupt("return");case 4:if(a.prev=4,t.address!=n.zeroAddress){a.next=12;break}return a.next=8,n.web3.eth.getBalance(n.wallet);case 8:r=a.sent,s=n.amountFromChain(4,r,t.decimals),a.next=17;break;case 12:return o=new n.web3.eth.Contract(k["a"],t.address),a.next=15,o.methods.balanceOf(n.wallet).call();case 15:i=a.sent,s=n.amountFromChain(4,i,t.decimals);case 17:"A"==e?n.tokenA.balance=s:"B"==e&&(n.tokenB.balance=s),a.next=23;break;case 20:a.prev=20,a.t0=a["catch"](4),console.log(a.t0);case 23:case"end":return a.stop()}}),a,null,[[4,20]])})))()},checkAllowance:function(e,t){var n=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var s,r,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(n.web3){a.next=2;break}return a.abrupt("return");case 2:if(t.address!=n.zeroAddress){a.next=4;break}return a.abrupt("return");case 4:return a.prev=4,s=new n.web3.eth.Contract(k["a"],t.address),a.next=8,s.methods.allowance(n.wallet,n.swap.router).call();case 8:r=a.sent,o=n.amountFromChain(4,r,t.decimals),"A"==e?n.tokenA.allowance=o:"B"==e&&(n.tokenB.allowance=o),a.next=16;break;case 13:a.prev=13,a.t0=a["catch"](4),console.log(a.t0);case 16:case"end":return a.stop()}}),a,null,[[4,13]])})))()},createRouterContract:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,a,s,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!==e.routerAbi){t.next=8;break}return n=c["a"][7].api,a=c["a"][7].key,s="0xD99D1c33F9fC3444f8101754aBC46c52416550D1",t.next=6,Object(l["a"])(n,{module:"contract",action:"getabi",address:s,apikey:a});case 6:r=t.sent,"1"===r.status?e.routerAbi=JSON.parse(r.result):"0"===r.status&&console.log("error: ");case 8:if(""!==e.routerAbi){t.next=10;break}return t.abrupt("return");case 10:if(""!==e.swap.router){t.next=12;break}return t.abrupt("return");case 12:if(!e.isEmptyObj(e.web3)){t.next=14;break}return t.abrupt("return");case 14:return t.prev=14,e.routerContract=new e.web3.eth.Contract(e.routerAbi,e.swap.router),t.next=18,e.routerContract.methods.WETH().call();case 18:e.swap.wETH=t.sent,o=[{constant:!0,inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],name:"getPair",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"}],e.factoryContract=new e.web3.eth.Contract(o,e.swap.factory),t.next=26;break;case 23:t.prev=23,t.t0=t["catch"](14),console.log(t.t0);case 26:case"end":return t.stop()}}),t,null,[[14,23]])})))()},getBaseCoin:function(){for(var e=0;e<this.tokenList.length;e++){var t={symbol:"",address:"",decimals:""};this.tokenList[e].user||(t.symbol=this.tokenList[e].symbol,t.address=this.tokenList[e].address,t.decimals=this.tokenList[e].decimals,this.baseCoinList.push(t))}},tryGetPair:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,a,s,r,o,i,c,l,u,p,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:t.prev=0,s=0;case 2:if(!(s<e.baseCoinList.length)){t.next=16;break}if(e.tokenA.address!==e.baseCoinList[s].address){t.next=9;break}return n=e.tokenA,a=e.tokenB,t.abrupt("break",16);case 9:if(e.tokenB.address!==e.baseCoinList[s].address){t.next=13;break}return n=e.tokenB,a=e.tokenA,t.abrupt("break",16);case 13:s++,t.next=2;break;case 16:if(n&&(r=e.baseCoinList.filter((function(e){return!(e.address===n.address)}))),!(r&&r.length>0)){t.next=48;break}o=n.address,o===e.zeroAddress&&(o=e.swap.wETH),i=0;case 21:if(!(i<r.length)){t.next=48;break}return c=r[i].address,c===e.zeroAddress&&(c=e.swap.wETH),l=[],l.push(o),l.push(c),l.push(a.address),t.prev=28,u="0.1",n.user?u="100":n.address===e.zeroAddress&&(u="0.0001"),p=e.amountToChain(u,n.decimals),t.next=34,e.routerContract.methods.getAmountsOut(p,l).call();case 34:return d=t.sent,e.swap.paths.push(c),e.swap.pathSymbols.push(r[i].symbol),e.swap.state="2",d.length>0&&(e.tokenA.pathAmount=u,e.tokenB.pathAmount=e.amountFromChain(10,d[d.length-1],e.tokenB.decimals),e.tokenA.initAmount=u,e.tokenB.initAmount=e.tokenB.pathAmount),t.abrupt("return");case 42:t.prev=42,t.t0=t["catch"](28),console.log("getAmountsOut fail...");case 45:i++,t.next=21;break;case 48:t.next=53;break;case 50:t.prev=50,t.t1=t["catch"](0),console.log("tryGetPair fail...");case 53:e.swap.state="0";case 54:case"end":return t.stop()}}),t,null,[[0,50],[28,42]])})))()},getPair:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,a,s,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,""!==e.swap.wETH&&null!==e.factoryContract){t.next=4;break}return t.next=4,e.createRouterContract();case 4:if(e.tokenA.address==e.zeroAddress||e.tokenB.address==e.zeroAddress?(n=e.swap.wETH,e.tokenA.address==e.zeroAddress?a=e.tokenB.address:e.tokenB.address==e.zeroAddress&&(a=e.tokenA.address)):(n=e.tokenA.address,a=e.tokenB.address),null!==e.factoryContract){t.next=7;break}return t.abrupt("return");case 7:return t.next=9,e.factoryContract.methods.getPair(n,a).call();case 9:if(e.swap.pair=t.sent,e.swap.pair!=e.zeroAddress){t.next=14;break}return t.next=13,e.tryGetPair();case 13:return t.abrupt("return");case 14:return e.swap.state="1",s=[{constant:!0,inputs:[],name:"getReserves",outputs:[{internalType:"uint112",name:"_reserve0",type:"uint112"},{internalType:"uint112",name:"_reserve1",type:"uint112"},{internalType:"uint32",name:"_blockTimestampLast",type:"uint32"}],payable:!1,stateMutability:"view",type:"function"}],e.pairContract=new e.web3.eth.Contract(s,e.swap.pair),t.next=19,e.pairContract.methods.getReserves().call();case 19:r=t.sent,new m.a(r[0]).gt(0)&&(o=e.tokenA.address===e.zeroAddress?new m.a(e.swap.wETH.substring(0,5)).gt(e.tokenB.address.substring(0,5)):e.tokenB.address===e.zeroAddress?new m.a(e.tokenA.address.substring(0,5)).gt(e.swap.wETH.substring(0,5)):new m.a(e.tokenA.address.substring(0,5)).gt(e.tokenB.address.substring(0,5)),o?(e.tokenA.reverse=e.amountFromChain(12,r[1],e.tokenA.decimals),e.tokenB.reverse=e.amountFromChain(12,r[0],e.tokenB.decimals)):(e.tokenA.reverse=e.amountFromChain(12,r[0],e.tokenA.decimals),e.tokenB.reverse=e.amountFromChain(12,r[1],e.tokenB.decimals)),e.tokenA.initAmount=e.tokenA.reverse,e.tokenB.initAmount=e.tokenB.reverse),t.next=26;break;case 23:t.prev=23,t.t0=t["catch"](0),console.log(t.t0);case 26:case"end":return t.stop()}}),t,null,[[0,23]])})))()},swapSelect:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:a=0;case 1:if(!(a<t.swaps.length)){n.next=23;break}if(t.swaps[a].value!=e){n.next=20;break}return t.swap.value=t.swaps[a].value,t.swap.router=t.swaps[a].router,t.swap.factory=t.swaps[a].factory,t.swap.wETH="",t.swap.paths=[],t.swap.pathSymbols=[],t.swap.state="",t.factoryContract=null,t.tokenA.reverse="",t.tokenA.allowance="",t.tokenA.pathAmount="",t.tokenA.initAmount="",t.tokenB.reverse="",t.tokenB.allowance="",t.tokenB.pathAmount="",t.tokenB.initAmount="",n.abrupt("break",23);case 20:a++,n.next=1;break;case 23:if(!t.uniChainLp){n.next=30;break}return n.next=26,t.getUniChainData();case 26:return n.next=28,t.inputChange("A");case 28:n.next=42;break;case 30:return n.next=32,t.executeInit();case 32:if(t.tokenA.address===t.zeroAddress){n.next=35;break}return n.next=35,t.checkAllowance("A",t.tokenA);case 35:if(t.tokenB.address===t.zeroAddress){n.next=38;break}return n.next=38,t.checkAllowance("B",t.tokenB);case 38:return n.next=40,t.inputChange("A");case 40:return n.next=42,t.batchCheckBalance();case 42:case"end":return n.stop()}}),n)})))()},hashNotify:function(e){var t=this.scanUrl+"tx/"+e;"mobile"===this.device&&(t="javaScript:void(0);");var n="View on "+this.scan+" : "+e.substring(0,8)+"...",a=this.$t("coin.transDetails"),s=Object(p["i"])(a,t,n);this.notifyInstance=this.$notify({dangerouslyUseHTMLString:!0,message:s,duration:8e3,customClass:"notify-class",showClose:!1})},tabSelect:function(){return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},handleIconClick:function(e){},selectToken:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.newCoin.tokenSelect=e,t.newCoin.value="",t.newCoin.dialogVisible=!0,!t.uniChainLp){n.next=9;break}if(""!==t.tokenList[t.tokenList.length-1].balance){n.next=7;break}return n.next=7,t.getUniChainData();case 7:n.next=11;break;case 9:return n.next=11,t.batchCheckBalance();case 11:case"end":return n.stop()}}),n)})))()},coinConfirm:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.newCoin.dialogVisible=!1,"A"!==t.newCoin.tokenSelect||e.address!==t.tokenA.address){n.next=3;break}return n.abrupt("return");case 3:if("B"!==t.newCoin.tokenSelect||e.address!==t.tokenB.address){n.next=5;break}return n.abrupt("return");case 5:if(t.setTokenInfo(t.newCoin.tokenSelect,e),"A"==t.newCoin.tokenSelect?t.tokenA.balance=e.balance:"B"==t.newCoin.tokenSelect&&(t.tokenB.balance=e.balance),t.tokenA.reverse="",t.tokenB.reverse="",t.tokenA.pathAmount="",t.tokenB.pathAmount="",t.tokenA.initAmount="",t.tokenB.initAmount="",t.swap.state="",t.swap.paths=[],t.swap.pathSymbols=[],!t.uniChainLp){n.next=21;break}return n.next=19,t.getUniChainData();case 19:n.next=28;break;case 21:if(""!=e.balance){n.next=24;break}return n.next=24,t.checkBalance(t.newCoin.tokenSelect,e);case 24:return n.next=26,t.checkAllowance(t.newCoin.tokenSelect,e);case 26:return n.next=28,t.getPair();case 28:return n.next=30,t.inputChange("A"==t.newCoin.tokenSelect?"B":"A");case 30:case"end":return n.stop()}}),n)})))()},querySearch:function(e,t){var n=[];e&&n.filter(this.createFilter(e));t(n)},createFilter:function(e){return function(t){return 0===t.value.toLowerCase().indexOf(e.toLowerCase())}},newHandleSelect:function(e){this.newCoin.symbol=e.value,this.newCoin.value=e.value,this.newCoin.address=e.address,e.decimals&&(this.newCoin.decimals=e.decimals)},newAddressCheckReset:function(){this.newCoin.checkLoading=!1},newAddressCheck:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,a,s,r,o,i,c,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!==e.newCoin.value){t.next=2;break}return t.abrupt("return");case 2:n=0;case 3:if(!(n<e.tokenList.length)){t.next=9;break}if(e.newCoin.value!==e.tokenList[n].address){t.next=6;break}return t.abrupt("return");case 6:n++,t.next=3;break;case 9:if(e.checkWeb3()){t.next=11;break}return t.abrupt("return");case 11:if(e.newCoin.value=e.newCoin.value.trim(),!1!==e.web3.utils.isAddress(e.newCoin.value)){t.next=14;break}return t.abrupt("return");case 14:return e.newCoin.checkLoading=!0,t.prev=15,a=new e.web3.eth.Contract(k["a"],e.newCoin.value),t.next=19,a.methods.symbol().call();case 19:return s=t.sent,t.next=22,a.methods.name().call();case 22:return r=t.sent,e.newCoin.symbol=s,e.newCoin.address=e.newCoin.value,o={value:s,name:s,symbol:s,longName:r,address:e.newCoin.value,balance:"",user:!0},e.tokenList.push(o),e.newCoin.value=s,e.newCoin.checkLoading=!1,t.next=31,a.methods.decimals().call();case 31:return e.newCoin.decimals=t.sent,i=e,e.tokenList.map((function(e,t){e.address===i.newCoin.address&&(i.tokenList[t]["decimals"]=i.newCoin.decimals)})),t.next=36,a.methods.balanceOf(e.wallet).call();case 36:c=t.sent,l=e.amountFromChain(4,c,e.newCoin.decimals),e.tokenList.map((function(e,t){e.address===i.newCoin.address&&(i.tokenList[t]["balance"]=l)})),t.next=44;break;case 41:t.prev=41,t.t0=t["catch"](15),e.newCoin.checkLoading=!1;case 44:case"end":return t.stop()}}),t,null,[[15,41]])})))()},imageLoad:function(e){return Object(p["g"])(e)},approveA:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,a,s,r,o,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.checkWeb3()){t.next=2;break}return t.abrupt("return");case 2:if(!e.tokenA.loading){t.next=4;break}return t.abrupt("return");case 4:if(t.prev=4,e.tokenA.loading=!0,e.amountToChain(e.tokenA.amount,e.tokenA.decimals),n=e,a="115792089237316195423570985008687907853269984665640564039457",s=new e.web3.eth.Contract(k["a"],e.tokenA.address),r=e.swap.router,e.uniChainLp&&(r=e.uniChainLp),!p["j"]){t.next=21;break}return t.next=15,s.methods.approve(r,a).estimateGas({from:e.wallet});case 15:return i=t.sent,t.next=18,Object(p["d"])(e.web3,e.wallet,e.chainId,i);case 18:o=t.sent,t.next=22;break;case 21:o={from:e.wallet};case 22:return t.next=24,s.methods.approve(r,a).send(o).on("error",(function(e){n.tokenA.loading=!1})).on("transactionHash",(function(e){n.txHash=e,n.hashNotify(e)})).on("receipt",(function(e){n.notifyInstance.close()}));case 24:e.success(),e.tokenA.allowance=a,e.tokenA.loading=!1,t.next=33;break;case 29:t.prev=29,t.t0=t["catch"](4),e.tokenA.loading=!1,e.fail();case 33:case"end":return t.stop()}}),t,null,[[4,29]])})))()},exchangeByChain:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,a,s,r,o,i,c,l,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(t.prev=0,n=e.amountToChain(e.tokenA.amount,e.tokenA.decimals),a=[],a.push(e.tokenA.address),s=0;s<e.swap.paths.length;s++)a.push(e.swap.paths[s]);if(a.push(e.tokenB.address),e.swapLoading=!0,r=e,o=0,e.tokenA.address===e.zeroAddress&&(o=n),i=e.slippage>100?0:100-e.slippage,c=e.amountToChain(e.tokenB.amount*i/100,e.tokenB.decimals),!p["j"]){t.next=22;break}return t.next=15,e.uniLpContract.methods.swap(e.swap.router,a,n,c).estimateGas({from:e.wallet,value:o});case 15:return u=t.sent,t.next=18,Object(p["d"])(e.web3,e.wallet,e.chainId,u);case 18:l=t.sent,l["value"]=o,t.next=23;break;case 22:l={from:e.wallet,value:o};case 23:return t.next=25,e.uniLpContract.methods.swap(e.swap.router,a,n,c).send(l).on("error",(function(e){r.swapLoading=!1})).on("transactionHash",(function(e){r.txHash=e,r.hashNotify(e)})).on("receipt",(function(e){r.notifyInstance.close()}));case 25:return e.success(),e.swapLoading=!1,e.addDialogVisible=!0,t.next=30,e.getUniChainData();case 30:t.next=36;break;case 32:t.prev=32,t.t0=t["catch"](0),e.swapLoading=!1,e.fail();case 36:case"end":return t.stop()}}),t,null,[[0,32]])})))()},exchange:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,a,s,r,o,i,c,l,u,d,m,k,h,b,w,f,g,x,y,v,A;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.checkWeb3()){t.next=2;break}return t.abrupt("return");case 2:if(!e.swapLoading){t.next=4;break}return t.abrupt("return");case 4:if(!e.enableApproveA){t.next=6;break}return t.abrupt("return");case 6:if(!e.uniChainLp){t.next=10;break}return t.next=9,e.exchangeByChain();case 9:return t.abrupt("return");case 10:if(n=parseInt((new Date).getTime()/1e3),null!==e.routerContract){t.next=14;break}return t.next=14,e.createRouterContract();case 14:if(a=e.slippage>100?0:100-e.slippage,s=e.amountToChain(e.tokenB.amount*a/100,e.tokenB.decimals),e.tokenA.address!==e.zeroAddress){t.next=60;break}for(r=e.amountToChain(e.tokenA.amount,e.tokenA.decimals),o=[],o.push(e.swap.wETH),i=0;i<e.swap.paths.length;i++)o.push(e.swap.paths[i]);if(o.push(e.tokenB.address),t.prev=22,e.swapLoading=!0,c=e,!p["j"]){t.next=35;break}return t.next=28,e.routerContract.methods.swapExactETHForTokensSupportingFeeOnTransferTokens(s,o,e.wallet,n+1200).estimateGas({from:e.wallet,value:r});case 28:return u=t.sent,t.next=31,Object(p["d"])(e.web3,e.wallet,e.chainId,u);case 31:l=t.sent,l["value"]=r,t.next=36;break;case 35:l={from:e.wallet,value:r};case 36:return t.next=38,e.routerContract.methods.swapExactETHForTokensSupportingFeeOnTransferTokens(s,o,e.wallet,n+1200).send(l).on("error",(function(e){c.swapLoading=!1})).on("transactionHash",(function(e){c.txHash=e,c.hashNotify(e)})).on("receipt",(function(e){c.notifyInstance.close()}));case 38:return e.success(),e.swapLoading=!1,e.addDialogVisible=!0,t.next=43,e.getBalanceAndAllowance("A",e.tokenA);case 43:return t.next=45,e.getBalanceAndAllowance("B",e.tokenB);case 45:if(!(e.swap.paths.length>0)){t.next=50;break}return t.next=48,e.inputChange("A");case 48:t.next=52;break;case 50:return t.next=52,e.getPair();case 52:t.next=58;break;case 54:t.prev=54,t.t0=t["catch"](22),e.swapLoading=!1,e.fail();case 58:t.next=143;break;case 60:if(e.tokenB.address!==e.zeroAddress){t.next=103;break}for(d=e.amountToChain(e.tokenA.amount,e.tokenA.decimals),m=[],m.push(e.tokenA.address),k=0;k<e.swap.paths.length;k++)m.push(e.swap.paths[k]);if(m.push(e.swap.wETH),t.prev=66,e.swapLoading=!0,h=e,!p["j"]){t.next=78;break}return t.next=72,e.routerContract.methods.swapExactTokensForETHSupportingFeeOnTransferTokens(d,s,m,e.wallet,n+1200).estimateGas({from:e.wallet});case 72:return w=t.sent,t.next=75,Object(p["d"])(e.web3,e.wallet,e.chainId,w);case 75:b=t.sent,t.next=79;break;case 78:b={from:e.wallet};case 79:return t.next=81,e.routerContract.methods.swapExactTokensForETHSupportingFeeOnTransferTokens(d,s,m,e.wallet,n+1200).send(b).on("error",(function(e){h.swapLoading=!1})).on("transactionHash",(function(e){h.txHash=e,h.hashNotify(e)})).on("receipt",(function(e){h.notifyInstance.close()}));case 81:return e.success(),e.swapLoading=!1,e.addDialogVisible=!0,t.next=86,e.getBalanceAndAllowance("A",e.tokenA);case 86:return t.next=88,e.getBalanceAndAllowance("B",e.tokenB);case 88:if(!(e.swap.paths.length>0)){t.next=93;break}return t.next=91,e.inputChange("A");case 91:t.next=95;break;case 93:return t.next=95,e.getPair();case 95:t.next=101;break;case 97:t.prev=97,t.t1=t["catch"](66),e.swapLoading=!1,e.fail();case 101:t.next=143;break;case 103:for(f=e.amountToChain(e.tokenA.amount,e.tokenA.decimals),g=[],g.push(e.tokenA.address),x=0;x<e.swap.paths.length;x++)g.push(e.swap.paths[x]);if(g.push(e.tokenB.address),t.prev=108,e.swapLoading=!0,y=e,!p["j"]){t.next=120;break}return t.next=114,e.routerContract.methods.swapExactTokensForTokensSupportingFeeOnTransferTokens(f,s,g,e.wallet,n+1200).estimateGas({from:e.wallet});case 114:return A=t.sent,t.next=117,Object(p["d"])(e.web3,e.wallet,e.chainId,A);case 117:v=t.sent,t.next=121;break;case 120:v={from:e.wallet};case 121:return t.next=123,e.routerContract.methods.swapExactTokensForTokensSupportingFeeOnTransferTokens(f,s,g,e.wallet,n+1200).send(v).on("error",(function(e){y.swapLoading=!1})).on("transactionHash",(function(e){y.txHash=e,y.hashNotify(e)})).on("receipt",(function(e){y.notifyInstance.close()}));case 123:return e.success(),e.swapLoading=!1,e.addDialogVisible=!0,t.next=128,e.getBalanceAndAllowance("A",e.tokenA);case 128:return t.next=130,e.getBalanceAndAllowance("B",e.tokenB);case 130:if(!(e.swap.paths.length>0)){t.next=135;break}return t.next=133,e.inputChange("A");case 133:t.next=137;break;case 135:return t.next=137,e.getPair();case 137:t.next=143;break;case 139:t.prev=139,t.t2=t["catch"](108),e.swapLoading=!1,e.fail();case 143:case"end":return t.stop()}}),t,null,[[22,54],[66,97],[108,139]])})))()},addCoin:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,n=e,t.next=4,window.ethereum.request({method:"wallet_watchAsset",params:{type:"ERC20",options:{address:n.tokenB.address,symbol:n.tokenB.symbol,decimals:n.tokenB.decimals,image:""}}});case 4:t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))()},dateFormatToNum:function(e){return""===e?0:Date.parse(new Date(e).toString())/1e3},timeFormatToNum:function(e){if(""===e)return 0;var t=e.split(":"),n=0;return 3===t.length&&(n=3600*parseInt(t[0])+60*parseInt(t[1])+parseInt(t[2])),n},isEmptyObj:function(e){return 0===Object.keys(e).length},handleClipboard:function(e,t){Object(u["a"])(e,t)},success:function(){this.$message({type:"success",center:!0,dangerouslyUseHTMLString:!0,message:"<strong>"+this.$t("global.success")+"</strong>"})},wait:function(){this.$message({type:"warning",center:!0,dangerouslyUseHTMLString:!0,message:"<strong>"+this.$t("global.tryAgainLater")+"</strong>"})},fail:function(){this.$message({type:"error",center:!0,dangerouslyUseHTMLString:!0,message:"<strong>"+this.$t("global.fail")+"</strong>"})},checkWeb3:function(){return!!this.web3||(this.$message({message:this.$t("coin.connectWallet"),type:"error",duration:1500}),!1)},amountToChain:function(e,t){var n=Number(t);return new m.a(e).times(new m.a(10).pow(n)).toFixed(0).toString(10)},amountFromChain:function(e,t,n){var a=Number(n),s=new m.a(t).div(new m.a(10).pow(a)).toString(10);return parseFloat(Object(p["o"])(e,s))},TimeNumToFormat:function(e){var t=Math.floor(e/3600%24);t=t<10?"0"+t:t;var n=Math.floor(e/60%60);n=n<10?"0"+n:n;var a=Math.floor(e%60);return a=a<10?"0"+a:a,t+" : "+n+" : "+a},timestampToTime:function(e){if(0==e)return"";var t=new Date(1e3*e),n=t.getFullYear()+"-",a=(t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)+"-",s=t.getDate();return n+a+s},handleCopy:function(e,t){Object(u["a"])(e,t)},stringIntercept:function(e,t,n){return Object(p["p"])(e,t,n)}}},b=h,w=(n("bf88"),n("2877")),f=Object(w["a"])(b,a,s,!1,null,"27239419",null);t["default"]=f.exports}}]);