(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3a16b564"],{"35c6":function(e,t,n){},"35e4":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=[{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"}]},"720c":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:"mobile"===e.device?"app-container":"app-container-pc"},[n("div",{staticStyle:{"text-align":"center","margin-top":"32px"}},[n("span",{staticStyle:{color:"#333","font-weight":"600","font-size":"36px"}},[e._v(e._s(e.$t("coin.createMultiSig")))])]),n("div",{staticStyle:{"margin-top":"16px","margin-bottom":"64px","line-height":"24px","text-align":"center","font-size":"15px",color:"#555"},style:(e.device,{})},[e._v(e._s(e.$t("coin.multiSigDesc1")))]),n("div",{staticStyle:{position:"relative"}},[n("div",{staticStyle:{position:"absolute",top:"-34px",float:"left",left:"0"}},[n("div",{staticClass:"tab-block",class:0==e.tabIndex?"tab-choose":"",on:{click:function(t){e.tabIndex=0}}},[e._v(e._s(e.$t("coin.create1")))]),n("div",{staticClass:"tab-block",class:1==e.tabIndex?"tab-choose":"",on:{click:function(t){e.tabIndex=1}}},[e._v(e._s(e.$t("coin.myMultiSig")))])]),n("div",{staticClass:"tab-content"},[n("div",{staticStyle:{margin:"32px 10px",width:"100%"}},[0==e.tabIndex?n("div",[n("el-form",{ref:"dynamicForm",staticClass:"demo-dynamic",attrs:{model:e.dynamicForm,"label-position":"left"}},[n("el-form-item",{attrs:{prop:"required",label:"ðŸŒ¼ "+e.$t("coin.minSigNum"),"label-width":"120px",rules:{required:!1,message:e.$t("coin.nullTip"),trigger:"blur"}}},[n("el-input-number",{attrs:{size:"mobile"===e.device?"small":"",min:1,label:""},model:{value:e.dynamicForm.required,callback:function(t){e.$set(e.dynamicForm,"required",t)},expression:"dynamicForm.required"}})],1),e._l(e.dynamicForm.owners,(function(t,i){return n("el-form-item",{key:t.key,attrs:{label:"ðŸŒ¸ "+e.$t("coin.signer")+" "+(i+1),"label-width":"90px",prop:"owners."+i+".value",rules:{required:!1,message:e.$t("coin.nullTip"),trigger:"blur"}}},[n("div",{staticStyle:{display:"flex","align-items":"center"}},[n("el-input",{attrs:{placeholder:e.$t("coin.inputWallet")},model:{value:t.value,callback:function(n){e.$set(t,"value",n)},expression:"owner.value"}}),n("i",{staticClass:"el-icon-remove-outline",staticStyle:{"margin-left":"4px","font-size":"24px",color:"red"},on:{click:function(n){return n.preventDefault(),e.removeOwner(t)}}})],1)])})),n("el-form-item",[n("el-button",{on:{click:e.addOwner}},[n("i",{staticClass:"el-icon-plus",staticStyle:{"font-weight":"600"}}),e._v(" "+e._s(e.$t("coin.addSigner"))+" ")])],1),n("el-form-item",[n("div",{staticStyle:{display:"flex","align-items":"center"}},[n("span",{staticClass:"primary-label",staticStyle:{"margin-right":"12px"}},[e._v(e._s(e.$t("coin.opensource")))]),n("el-switch",{attrs:{disabled:e.openSourceDisabled,"active-color":"#FF7E00","inactive-color":"#C0C4CC"},on:{change:e.changeOpensource},model:{value:e.opensource,callback:function(t){e.opensource=t},expression:"opensource"}})],1)]),n("el-form-item",{staticStyle:{"text-align":"end"}},[n("el-button",{attrs:{type:"primary",loading:e.createLoading},on:{click:function(t){return e.submitForm("dynamicForm")}}},[e._v(e._s(e.$t("coin.deploy")))])],1)],2),n("div",{directives:[{name:"show",rawName:"v-show",value:e.stepDialogVisible&&"mobile"===e.device,expression:"stepDialogVisible && device === 'mobile'"}]},[n("div",{staticStyle:{width:"100%",height:"0.2px",background:"gray",opacity:"0.2","margin-top":"10px","margin-bottom":"20px"}}),n("div",{staticStyle:{margin:"20px 4px 0 4px",border:"0.2px solid #FF7E00",padding:"12px 0"}},[e.stepNo>e.stepFinishedNo?n("div",{staticStyle:{"text-align":"center","font-size":"60px",color:"#FF7E00"}},[n("i",{staticClass:"el-icon-circle-check",staticStyle:{"font-weight":"500"}})]):n("div",[e.stepError?n("div",{staticStyle:{"text-align":"center"}},[n("i",{staticClass:"el-icon-circle-close",staticStyle:{"font-weight":"500","font-size":"32px",color:"red"}})]):n("div",{staticClass:"bounce-load"},[n("div",{staticClass:"double-bounce1"}),n("div",{staticClass:"double-bounce2"})]),n("div",{staticStyle:{"margin-top":"16px","text-align":"center","font-size":"20px",color:"#303133","font-weight":"500"}},[e._v(e._s("["+(e.stepNo+1)+"/"+(e.stepFinishedNo+1)+"] ")+" "+e._s(e.$t("coin.normalSteps")[e.stepNo>e.stepFinishedNo?e.stepFinishedNo:e.stepNo].title))]),n("div",{staticStyle:{"margin-top":"10px","font-size":"13px","text-align":"center",color:"#909399",opacity:"1"}},[e._v(e._s(e.$t("coin.normalSteps")[e.stepNo>e.stepFinishedNo?e.stepFinishedNo:e.stepNo].description))]),n("el-progress",{staticStyle:{margin:"12px 12px 6px 12px"},attrs:{"show-text":!1,percentage:e.contractProgress,status:"warning"}})],1),n("div",{directives:[{name:"show",rawName:"v-show",value:""!==e.multiSigAddress,expression:"multiSigAddress !== ''"}]},[n("div",{staticStyle:{"margin-top":"12px","font-size":"14px","text-align":"center"}},[e._v(e._s(e.$t("coin.multiSigAddr")))]),n("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"center","margin-top":"6px","text-align":"center","font-size":"13px"}},[n("el-tag",{attrs:{type:"primary"}},[e._v(e._s(e.multiSigAddress)+" "),n("i",{staticClass:"el-icon-copy-document",staticStyle:{"margin-left":"4px","font-weight":"500"},on:{click:function(t){return e.handleCopy(e.multiSigAddress,t)}}})])],1)]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.opensource&&e.stepNo>e.stepFinishedNo&&""!==e.openSourceLink,expression:"opensource && stepNo>stepFinishedNo && openSourceLink!==''"}],staticStyle:{"margin-top":"16px"}},[n("div",{staticStyle:{"font-size":"14px","text-align":"center"}},[e._v(e._s(e.$t("coin.openSourceLink")))]),n("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"center","font-size":"13px","margin-top":"6px"}},[n("el-tag",{attrs:{type:"primary"}},[n("a",{staticStyle:{"text-decoration":"underline"},attrs:{href:e.openSourceLink,target:"_blank"}},[e._v(e._s(e.stringIntercept(e.openSourceLink,20,20)))]),n("i",{staticClass:"el-icon-copy-document",staticStyle:{"margin-left":"6px","font-weight":"500"},on:{click:function(t){return e.handleCopy(e.openSourceLink,t)}}})])],1)])]),n("div",{directives:[{name:"show",rawName:"v-show",value:""!==e.multiSigAddress,expression:"multiSigAddress !== ''"}],staticStyle:{"margin-top":"4px","margin-bottom":"20px","font-size":"13px",color:"#777","text-align":"center"}},[e._v(e._s(e.$t("coin.saveContractTip")))])]),n("div",[n("div",{staticStyle:{width:"100%",height:"0.2px",background:"gray",opacity:"0.2","margin-top":"10px","margin-bottom":"20px"}}),n("div",{staticClass:"introduce-title",staticStyle:{margin:"12px 0"}},[e._v("1). "+e._s(e.$t("coin.definition")))]),n("div",{staticClass:"introduce-content"},[e._v(e._s(e.$t("coin.multisigDesc")))]),n("div",{staticClass:"introduce-title",staticStyle:{margin:"12px 0"}},[e._v("2). "+e._s(e.$t("coin.usage")))]),n("div",{staticClass:"introduce-content"},[e._v(e._s(e.$t("coin.multisigUsage")))])])],1):1==e.tabIndex?n("div",{staticStyle:{margin:"16px auto"}},[n("div",{staticClass:"step-container",staticStyle:{margin:"10px 5%"}},[n("div",{staticClass:"step-item"},["step-finished"===e.getStepNo(1)?n("i",{staticClass:"el-icon-circle-check i-finished"}):n("div",{staticClass:"step-no",class:e.getStepNo(1)},[e._v("1")]),n("span",{class:e.getStepText(1)},[e._v(e._s(e.$t("coin.unlock")))])]),n("div",{class:e.getStepLine(1)}),n("div",{staticClass:"step-item"},["step-finished"===e.getStepNo(2)?n("i",{staticClass:"el-icon-circle-check i-finished"}):n("div",{staticClass:"step-no",class:e.getStepNo(2)},[e._v("2")]),n("span",{class:e.getStepText(2)},[e._v(e._s(e.$t("coin.application")))])]),n("div",{class:e.getStepLine(2)}),n("div",{staticClass:"step-item"},["step-finished"===e.getStepNo(2)?n("i",{staticClass:"el-icon-circle-check i-finished"}):n("div",{staticClass:"step-no",class:e.getStepNo(3)},[e._v("3")]),n("span",{class:e.getStepText(3)},[e._v(e._s(e.$t("coin.confirmSign")))])])]),n("div",{class:"mobile"===e.device?"padding-mobile":"padding-pc",staticStyle:{"margin-top":"16px",border:"1px solid rgba(0,0,0,0.15)","border-radius":"16px"}},[n("el-row",{staticStyle:{margin:"12px 4px"},attrs:{gutter:0}},[e.wallet&&e.contractList[e.wallet]?n("el-col",{attrs:{xs:24,sm:24,md:24,lg:24}},[n("div",{staticStyle:{margin:"auto 16px"}},[n("div",{staticStyle:{display:"flex","align-items":"center","font-weight":"600",color:"#555"}},[n("i",{staticClass:"el-icon-wallet",staticStyle:{"font-size":"20px"}}),n("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(e.$t("coin.walletList")))])]),n("div",{staticStyle:{width:"100%",height:"0.2px",background:"gray",opacity:"0.2","margin-top":"10px","margin-bottom":"20px"}}),e.wallet&&e.contractList[e.wallet]?n("div",e._l(e.contractList[e.wallet],(function(t,i){return n("div",{key:i,staticStyle:{padding:"12px","margin-bottom":"16px",color:"white","background-color":"#2ac06d",border:"1px solid rgba(255,255,255,0.5)","border-radius":"12px"},on:{click:function(t){return e.selectMultisigWallet(i)}}},[n("div",{staticStyle:{display:"flex","justify-content":"space-between","align-items":"center"}},[n("div",{staticStyle:{display:"inline"}},[n("div",{staticStyle:{"font-size":"14px","font-weight":"600"}},[e._v(e._s(e.$t("route.multiSig")))]),n("div",{staticStyle:{"margin-top":"6px","font-size":"12px",opacity:"0.85"}},[e._v(" "+e._s(e.stringIntercept(t,7,7))+" "),n("i",{staticClass:"el-icon-copy-document",staticStyle:{"font-size":"12px","margin-left":"4px"},on:{click:function(n){return e.handleCopy(t,n)}}})])]),n("i",{directives:[{name:"show",rawName:"v-show",value:i===e.multisigSelect,expression:"index === multisigSelect"}],staticClass:"el-icon-check",staticStyle:{"font-size":"18px","font-weight":"600"}})]),n("div",{staticStyle:{"font-size":"13px","text-align":"end"}},[n("i",{staticClass:"el-icon-user-solid",staticStyle:{"font-size":"15px"}}),e._v(" "+e._s(e.reverseList[e.wallet]?e.reverseList[e.wallet][i]:""))])])})),0):e._e()])]):e._e(),n("el-col",{attrs:{xs:24,sm:24,md:24,lg:24}},[n("el-row",{directives:[{name:"loading",rawName:"v-loading",value:e.unlockLoading,expression:"unlockLoading"}],staticStyle:{margin:"16px auto"}},[n("div",{staticClass:"input-block"},[n("i",{staticClass:"el-icon-search search-input",on:{click:e.unlock}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.multiSigAddress,expression:"multiSigAddress"}],staticStyle:{"margin-left":"3px",width:"100%",border:"none",outline:"none",color:"#666","font-size":"14px"},attrs:{required:"required",placeholder:e.$t("coin.multiSigTip")},domProps:{value:e.multiSigAddress},on:{input:[function(t){t.target.composing||(e.multiSigAddress=t.target.value)},e.unlock]}}),n("i",{staticClass:"el-icon-circle-close clear-input",on:{click:function(t){e.multiSigAddress=""}}})])]),n("div",{class:e.addressError?"tip-show":"tip-hidden",staticStyle:{color:"red","font-size":"12px"}},[e._v(e._s(e.$t("coin.nullTip")))]),e.showTable&&e.tableData.length>0?n("div",[n("div",{staticStyle:{"margin-top":"24px","text-align":"center","font-weight":"600"}},[e._v(e._s(e.$t("coin.assetDetails")))]),n("div",{staticStyle:{"margin-top":"10px"}},[n("div",{staticClass:"asset-title"},[n("div",{staticClass:"title-item"},[e._v(e._s(e.$t("coin.token")))]),n("div",{staticClass:"title-item"},[e._v(e._s(e.$t("coin.contract")))]),n("div",{staticClass:"title-item"},[e._v(e._s(e.$t("global.balance")))])]),n("div",{staticStyle:{width:"100%",height:"0.2px",background:"gray",opacity:"0.2","margin-top":"10px","margin-bottom":"10px"}}),e._l(e.tableData,(function(t,i){return n("div",{directives:[{name:"show",rawName:"v-show",value:e.isGtZero(t.balance),expression:"isGtZero(item.balance)"}],key:i,staticClass:"asset-content"},[n("div",{staticClass:"content-item"},[e._v(e._s(t.symbol))]),n("div",{staticClass:"content-item"},[n("a",{attrs:{href:e.scanUrl+"address/"+t.address,target:"_blank"}},[n("span",[e._v(e._s(t.address===e.zeroAddress?"None":e.stringIntercept(t.address,4,4)))])])]),n("div",{staticClass:"content-item"},[e._v(e._s(t.balance))])])})),n("div",{staticStyle:{width:"100%",height:"0.2px",background:"gray",opacity:"0.2","margin-top":"10px","margin-bottom":"10px"}})],2)]):e._e(),n("div",{staticStyle:{"margin-top":"24px","margin-bottom":"12px","text-align":"center","font-weight":"600"}},[e._v(e._s(e.$t("coin.withdraw")))]),"asset"===e.activeTab?n("el-tabs",{staticStyle:{margin:"15px 10%"},attrs:{stretch:""},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[n("el-tab-pane",{attrs:{label:e.$t("coin.application"),name:"apply"}}),n("el-tab-pane",{attrs:{label:e.$t("coin.order"),name:"order"}})],1):e._e(),"apply"===e.activeName?n("div",[n("el-form",{ref:"applyForm",staticClass:"demo-dynamic",attrs:{model:e.applyForm,"label-position":"right"}},[n("el-form-item",{attrs:{prop:"coinValue",label:e.$t("coin.token"),"label-width":"80px",rules:{required:!0,message:e.$t("coin.nullTip"),trigger:"blur"}}},[n("el-autocomplete",{directives:[{name:"loading",rawName:"v-loading",value:e.addressCheckLoading,expression:"addressCheckLoading"}],staticStyle:{width:"100%"},attrs:{"fetch-suggestions":e.querySearch,placeholder:e.$t("coin.selectTokenTip")},on:{select:e.handleSelect,focus:e.addressCheckReset,input:e.addressCheck},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.item;return[n("div",{staticClass:"name"},[n("span",{staticStyle:{"font-weight":"600"}},[e._v(e._s(i.value))]),e._v(" - "+e._s(i.longName))])]}}],null,!1,65798608),model:{value:e.applyForm.coinValue,callback:function(t){e.$set(e.applyForm,"coinValue",t)},expression:"applyForm.coinValue"}},[n("i",{staticClass:"el-icon-search el-input__icon",attrs:{slot:"prefix"},on:{click:e.handleIconClick},slot:"prefix"})])],1),n("el-form-item",{attrs:{label:e.$t("coin.amount"),"label-width":"80px",prop:"sendAmount",rules:{required:!0,message:e.$t("coin.nullTip"),trigger:"blur"}}},[n("el-input",{attrs:{onkeyup:"value = value.replace(/^\\D*(\\d*(?:\\.\\d{0,18})?).*$/g, '$1')"},model:{value:e.applyForm.sendAmount,callback:function(t){e.$set(e.applyForm,"sendAmount",t)},expression:"applyForm.sendAmount"}})],1),n("el-form-item",{attrs:{label:e.$t("coin.destination"),"label-width":"80px",prop:"receiveAddress",rules:{required:!0,message:e.$t("coin.nullTip"),trigger:"blur"}}},[n("el-input",{model:{value:e.applyForm.receiveAddress,callback:function(t){e.$set(e.applyForm,"receiveAddress",t)},expression:"applyForm.receiveAddress"}})],1),n("el-form-item",[n("div",{staticStyle:{"text-align":"center"}},[n("el-button",{attrs:{type:"primary",loading:e.submitLoading},on:{click:function(t){return e.submitApplyForm("applyForm")}}},[e._v(e._s(e.$t("coin.submit")))])],1)])],1)],1):e.trannsactionCount>0?n("div",[n("div",{staticStyle:{display:"grid","grid-template-columns":"1fr 1fr","text-align":"center"}},[n("el-dropdown",{on:{command:e.pendingCommand}},[n("span",{staticClass:"el-dropdown-link"},[e._v(" "+e._s(e.$t("coin.undoneOrder"))),n("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},e._l(e.pendingList,(function(t,i){return n("el-dropdown-item",{key:i,attrs:{command:i}},[e._v(e._s(t.text))])})),1)],1),n("el-dropdown",{on:{command:e.executeCommand}},[n("span",{staticClass:"el-dropdown-link"},[e._v(" "+e._s(e.$t("coin.doneOrder"))),n("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},e._l(e.executedList,(function(t,i){return n("el-dropdown-item",{key:i,attrs:{command:i}},[e._v(e._s(t.text))])})),1)],1)],1),n("div",{staticStyle:{"margin-top":"20px",padding:"8px 26px","font-size":"14px","margin-left":"14px","margin-right":"8px",color:"#19be6b",background:"#dbf1e1"}},[e._v(" "+e._s(e.$t("coin.orderNo"))+" "+e._s(e.order.id)+" "),n("span",{staticStyle:{"margin-left":"16px","font-weight":"bold"}},[e._v("["+e._s(e.order.status?e.$t("coin.finished"):e.$t("coin.undone"))+"]")]),n("div",{staticStyle:{"margin-top":"4px",display:"flex","justify-content":"space-between"}},[n("span",[e._v(e._s(e.$t("coin.amount")))]),e._v(" "),n("span",[n("b",[e._v(e._s(e.order.amount))]),e._v(" "+e._s(e.order.symbol))])]),n("div",{staticStyle:{"margin-top":"4px",display:"flex","justify-content":"space-between"}},[n("span",[e._v(e._s(e.$t("coin.destination")))]),n("div",[n("a",{attrs:{href:e.scanUrl+"address/"+e.order.address,target:"_blank"}},[n("span",{staticStyle:{"font-weight":"600"}},[e._v(e._s(e.stringIntercept(e.order.address,8,8)))])]),n("i",{staticClass:"el-icon-copy-document",staticStyle:{"margin-left":"4px","font-weight":"500"},on:{click:function(t){return e.handleCopy(e.order.address,t)}}})])])]),n("div",{staticStyle:{"margin-top":"10px","margin-left":"14px"}},[e._v(e._s(e.$t("coin.applyProgress"))+"ï¼š")]),n("div",{staticStyle:{"margin-top":"10px","margin-left":"30%"}},[n("el-steps",{attrs:{direction:"vertical",active:e.currentProgress,"finish-status":"success","process-status":e.progressError?"error":"process",space:"60px"}},e._l(e.numList,(function(e,t){return n("el-step",{attrs:{title:e.name}})})),1)],1),!1===e.order.status?n("div",[e.isApply?n("div",{staticStyle:{padding:"4px 4px",margin:"4px 14px",background:"#fdf6ec",color:"#ff9900","text-align":"center"}},[e._v(" "+e._s(e.$t("coin.notifyTip"))+" "+e._s(e.numList.length-e.currentProgress-1)+" "+e._s(e.$t("coin.signConfirmTip"))+" ")]):e._e(),n("div",{staticStyle:{"margin-top":"10px","text-align":"center"}},[e.isConfirmed?n("el-button",{attrs:{type:"warning",loading:e.confirmLoading},on:{click:e.revokeConfirmation}},[e._v(e._s(e.$t("global.cancel")))]):n("el-button",{attrs:{type:"success",loading:e.confirmLoading},on:{click:e.confirmTransaction}},[e._v(e._s(e.$t("global.confirmation")))])],1)]):e._e()]):n("div",[n("div",{staticStyle:{"line-height":"80px",color:"#909399","font-size":"14px","text-align":"center"}},[e._v(e._s(e.$t("coin.noData")))]),n("div",{staticStyle:{width:"100%",height:"0.2px",background:"gray",opacity:"0.2","margin-top":"10px","margin-bottom":"10px"}})])],1)],1)],1)]):e._e()])])]),"mobile"!==e.device?n("el-dialog",{attrs:{title:"","show-close":!1,"close-on-click-modal":!1,visible:e.stepDialogVisible,width:"33%",top:"30vh",center:""},on:{"update:visible":function(t){e.stepDialogVisible=t}}},[n("div",{staticStyle:{"font-size":"12px",color:"#ccc","text-align":"end"}},[n("i",{staticClass:"el-icon-close",on:{click:e.closeStepDailog}})]),e.stepNo>e.stepFinishedNo?n("div",{staticStyle:{"text-align":"center","font-size":"60px",color:"#FF7E00"}},[n("i",{staticClass:"el-icon-circle-check",staticStyle:{"font-weight":"500"}})]):n("div",[e.stepError?n("div",{staticStyle:{"text-align":"center"},on:{click:e.closeStepDailog}},[n("i",{staticClass:"el-icon-circle-close",staticStyle:{cursor:"pointer","font-size":"32px",color:"red"}})]):n("div",{staticClass:"bounce-load"},[n("div",{staticClass:"double-bounce1"}),n("div",{staticClass:"double-bounce2"})]),n("div",{staticStyle:{"margin-top":"16px","text-align":"center","font-size":"20px",color:"#303133","font-weight":"500"}},[e._v(e._s("["+(e.stepNo+1)+"/"+(e.stepFinishedNo+1)+"] ")+" "+e._s(e.$t("coin.normalSteps")[e.stepNo>e.stepFinishedNo?e.stepFinishedNo:e.stepNo].title))]),n("div",{staticStyle:{"margin-top":"10px","font-size":"13px","text-align":"center",color:"#909399",opacity:"1"}},[e._v(e._s(e.$t("coin.normalSteps")[e.stepNo>e.stepFinishedNo?e.stepFinishedNo:e.stepNo].description))]),n("el-progress",{staticStyle:{margin:"12px 12px 6px 12px"},attrs:{"show-text":!1,percentage:e.contractProgress,status:"warning"}})],1),n("div",{directives:[{name:"show",rawName:"v-show",value:""!==e.multiSigAddress,expression:"multiSigAddress !== ''"}],staticStyle:{"margin-top":"20px","text-align":"center"}},[n("el-tag",{attrs:{type:"primary"}},[n("span",{staticStyle:{"margin-right":"4px"}},[e._v(e._s(e.$t("coin.multiSigAddr")))]),e._v(" "+e._s(e.multiSigAddress)+" "),n("i",{staticClass:"el-icon-copy-document",staticStyle:{"margin-left":"4px","font-weight":"500"},on:{click:function(t){return e.handleCopy(e.multiSigAddress,t)}}})])],1),n("div",{directives:[{name:"show",rawName:"v-show",value:e.opensource&&e.stepNo>e.stepFinishedNo&&""!==e.openSourceLink,expression:"opensource && stepNo>stepFinishedNo && openSourceLink!==''"}],staticStyle:{"margin-top":"20px","text-align":"center"}},[n("el-tag",{attrs:{type:"primary"}},[n("span",{staticStyle:{"margin-right":"4px"}},[e._v(e._s(e.$t("coin.openSourceLink")))]),n("a",{staticStyle:{"text-decoration":"underline"},attrs:{href:e.openSourceLink,target:"_blank"}},[e._v(e._s(e.stringIntercept(e.openSourceLink,25,25)))]),n("i",{staticClass:"el-icon-copy-document",staticStyle:{"margin-left":"6px","font-weight":"500"},on:{click:function(t){return e.handleCopy(e.openSourceLink,t)}}})])],1),e.stepNo>e.stepFinishedNo?n("div",{staticStyle:{"margin-top":"30px",display:"flex","align-items":"center","justify-content":"center"}},[n("el-button",{attrs:{type:"primary"},on:{click:e.closeStepDailog}},[e._v(e._s(e.$t("global.finished")))])],1):e._e()]):e._e()],1)},a=[],r=n("1da1"),s=n("5530"),o=(n("d3b7"),n("ddb0"),n("d81d"),n("b0c0"),n("4de4"),n("498a"),n("3ca3"),n("ac1f"),n("1276"),n("4d90"),n("25f0"),n("a9e3"),n("b64b"),n("a434"),n("96cf"),n("2f62")),c=n("e0e0"),l=n("e35c"),u=n("f71e"),d=n("ed08"),p=n("35e4"),m=n("901e"),g=n.n(m),h={name:"MultiSig",data:function(){return{activeTab:"create",dynamicForm:{owners:[{value:""},{value:""}],required:"1"},apiUrl:"",apiKey:"",scanUrl:"",scan:"Scan",key:"",chainSymbol:"",chainCoins:[],openSourceLink:"",opensource:!0,openSourceDisabled:!1,multiSigAddress:"",addressError:!1,notifyInstance:null,stepDialogVisible:!1,stepNo:0,stepFinishedNo:2,stepError:!1,createLoading:!1,withdrawStep:0,tableData:[],showTable:!1,multiSigContract:null,unlockLoading:!1,abiFaultStatus:!1,zeroAddress:"0x0000000000000000000000000000000000000000",activeName:"apply",tokenContract:null,decimals:18,addressCheckLoading:!1,addressCheckStatus:-1,applyForm:{coinValue:"",tokenAddress:"",receiveAddress:"",sendAmount:""},submitLoading:!1,initEnd:!1,trannsactionCount:0,required:3,numList:[],initNumList:[],owners:[],pendingList:[],executedList:[],pendingSel:0,executedSel:0,transaction:null,currentProgress:0,progressError:!1,order:{id:"",token:"",symbol:"",address:"",amount:"",status:!1},isApply:!1,isConfirmed:!1,confirmLoading:!1,requestData:{},contractList:{},reverseList:{},multisigSelect:0,preWallet:null,tabIndex:0}},computed:Object(s["a"])(Object(s["a"])({},Object(o["b"])(["web3","wallet","chainId","device"])),{},{contractProgress:function(){var e=parseInt(100*this.stepNo/this.stepFinishedNo);return e>100?100:e>0?e:5}}),watch:{web3:function(e){},wallet:function(e,t){console.log("val: "+e+" , old: "+t),t&&t!==e&&this.initMultisigParam(),this.getContractList(),this.getBaseInfos()},chainId:function(e){this.getChainInfos(),this.getContractList()}},mounted:function(){this.getChainInfos()},methods:{getStepNo:function(e){var t=e-1;return this.withdrawStep>t?"step-finished":this.withdrawStep===t?"step-process":"step-wait"},getStepText:function(e){var t=e-1;return this.withdrawStep>t||this.withdrawStep===t?"text-finished":"text-process"},getStepLine:function(e){var t=e-1;return this.withdrawStep>t?"line-finished":"line-process"},selectMultisigWallet:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.multisigSelect=e,t.multiSigAddress=t.contractList[t.wallet][t.multisigSelect],n.next=4,t.unlock();case 4:case"end":return n.stop()}}),n)})))()},changeOpensource:function(e){this.stepFinishedNo=e?3:2},initMultisigParam:function(){this.multiSigAddress="",this.contractList={},this.reverseList={},this.multisigSelect=0},getChainInfos:function(){this.initMultisigParam();var e=[3,4,5,11155111,42,97,80001];e.indexOf(parseInt(this.chainId))>-1?(this.opensource=!1,this.changeOpensource(!1),this.openSourceDisabled=!0):this.openSourceDisabled=!1;for(var t=0;t<c["a"].length;t++)if(this.chainId===c["a"][t].id){this.scanUrl=c["a"][t].url,this.scan=c["a"][t].scan,this.apiUrl=c["a"][t].api;var n=c["a"][t].keys;this.key=n[Math.floor(Math.random()*n.length)],this.chainSymbol=c["a"][t].symbol,this.chainCoins=c["a"][t].tokens,this.chainCoins=this.chainCoins.map((function(e){return Object(s["a"])(Object(s["a"])({},e),{},{value:e.name})})),this.queryBalance(this.chainCoins)}},isGtZero:function(e){return new g.a(e).gt(0)},getContractList:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,i,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.chainId>0&&e.wallet)){t.next=23;break}return t.next=3,Object(l["b"])("/api/v1/web/contracts",{name:"multisig",chain:e.chainId,address:e.wallet});case 3:if(n=t.sent,i=n.data.contract,console.log(i),e.contractList[e.wallet]=i.filter((function(e){return e&&e.trim()})),console.log(e.contractList),a=n.data.reverse,e.reverseList[e.wallet]=a.filter((function(e){return e&&e.trim()})),e.contractList[e.wallet].length>0?(e.multisigSelect=0,r=e.contractList[e.wallet][e.multisigSelect]):(r="",e.multisigSelect=0),""!==r){t.next=14;break}t.next=23;break;case 14:if(r===e.multiSigAddress){t.next=20;break}return e.multiSigAddress=r,t.next=18,e.unlock();case 18:t.next=23;break;case 20:if(r!==e.multiSigAddress||e.multiSigContract){t.next=23;break}return t.next=23,e.unlock();case 23:case"end":return t.stop()}}),t)})))()},queryBalance:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var i,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.web3){n.next=2;break}return n.abrupt("return");case 2:if(""!==t.multiSigAddress){n.next=4;break}return n.abrupt("return");case 4:i=regeneratorRuntime.mark((function n(i){var a,r,s,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(a=t.tableData.some((function(t){return t.address===e[i].address})),a){n.next=19;break}if(r=0,e[i].address!==t.zeroAddress){n.next=9;break}return n.next=6,t.web3.eth.getBalance(t.multiSigAddress);case 6:r=n.sent,n.next=13;break;case 9:return s=new t.web3.eth.Contract(p["a"],e[i].address),n.next=12,s.methods.balanceOf(t.multiSigAddress).call();case 12:r=n.sent;case 13:new g.a(r).gt(0)&&(t.showTable=!0),o={symbol:"",address:"",balance:""},o.symbol=e[i].value,o.address=e[i].address,o.balance=t.amountFromChainByDecimal(2,r,e[i].decimals),t.tableData.push(o);case 19:case"end":return n.stop()}}),n)})),a=0;case 6:if(!(a<e.length)){n.next=11;break}return n.delegateYield(i(a),"t0",8);case 8:a++,n.next=6;break;case 11:case"end":return n.stop()}}),n)})))()},pendingCommand:function(e){var t=this.executedList[e],n=t.text.split("-");parseInt(n[1]);n[1]!==this.order.id&&(this.order.id=n[1],this.order.status=!1,this.getBaseInfos()),this.initEnd=!0},executeCommand:function(e){var t=this.executedList[e],n=t.text.split("-");parseInt(n[1]);this.order.status=!0,n[1]!==this.order.id&&(this.order.id=n[1],this.getBaseInfos()),this.initEnd=!0},submitApplyForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;t.submitTransaction()}))},submitTransaction:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.checkWeb3()){t.next=2;break}return t.abrupt("return");case 2:if(e.checkUnlock()){t.next=4;break}return t.abrupt("return");case 4:return e.submitLoading=!0,n=e.amountToChain(e.applyForm.sendAmount),t.prev=6,i=e,t.next=10,e.multiSigContract.methods.submitTransaction(e.applyForm.tokenAddress,e.applyForm.receiveAddress,n).send({from:e.wallet}).on("error",(function(e){i.submitLoading=!1,i.progressError=!0})).on("transactionHash",(function(e){i.currentProgress++,i.hashNotify(e)})).on("receipt",(function(e){i.notifyInstance.close()}));case 10:return e.success(),e.submitLoading=!1,e.initEnd=!1,t.next=15,e.getBaseInfos();case 15:e.activeName="order",t.next=22;break;case 18:t.prev=18,t.t0=t["catch"](6),e.fail(),e.submitLoading=!1;case 22:case"end":return t.stop()}}),t,null,[[6,18]])})))()},confirmTransaction:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.confirmLoading=!0,n=parseInt(e.order.id),i=e,t.next=6,e.multiSigContract.methods.confirmTransaction(n).send({from:e.wallet}).on("error",(function(e){i.confirmLoading=!1,i.progressError=!0})).on("transactionHash",(function(e){i.currentProgress++,i.hashNotify(e)})).on("receipt",(function(e){i.notifyInstance.close()}));case 6:return e.success(),e.confirmLoading=!1,t.next=10,e.getBaseInfos();case 10:return t.next=12,e.getAllTrans();case 12:t.next=18;break;case 14:t.prev=14,t.t0=t["catch"](0),e.fail(),e.confirmLoading=!1;case 18:case"end":return t.stop()}}),t,null,[[0,14]])})))()},revokeConfirmation:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.confirmLoading=!0,n=parseInt(e.order.id),i=e,t.next=6,e.multiSigContract.methods.revokeConfirmation(n).on("error",(function(e){i.confirmLoading=!1,i.progressError=!0})).on("transactionHash",(function(e){i.currentProgress--,i.hashNotify(e)})).on("receipt",(function(e){i.notifyInstance.close()}));case 6:return e.success(),e.confirmLoading=!1,t.next=10,e.getBaseInfos();case 10:t.next=16;break;case 12:t.prev=12,t.t0=t["catch"](0),e.fail(),e.confirmLoading=!1;case 16:case"end":return t.stop()}}),t,null,[[0,12]])})))()},getBaseInfos:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,i,a,r,s,o,c,l,u,d,p,m,g,h,f,v,b,y,x;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.multiSigContract){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,e.multiSigContract.methods.getBaseInfos().call({from:e.wallet});case 5:for(n=t.sent,e.trannsactionCount=n[0],e.required=n[1],e.owners=n[2],i=[],a=0;a<e.required;a++)r={name:""},r.name=0==a?e.$t("coin.application"):e.$t("coin.confirmation"),i.push(r);for(i.length>0&&(e.initNumList=[],e.initNumList=i),s=n[3],o=0,c=[],l=s.length;l>0;l--)u={text:"",value:0},u.text=e.$t("coin.orderNo")+"-"+s[o].toString().padStart(6,"0"),u.value=o,c.push(u),o++;for(e.pendingList=[],o>0&&(e.pendingList=c),d=n[4],p=0,c=[],m=d.length;m>0;m--)g={text:"",value:0},g.text=e.$t("coin.orderNo")+"-"+d[p].toString().padStart(6,"0"),g.value=p,c.push(g),p++;if(e.executedList=[],p>0&&(e.executedList=c),!(!1===e.initEnd&&o>0)){t.next=37;break}return h=e.pendingList[0],f=h.text.split("-"),v=parseInt(f[1]),e.order.status=!1,e.order.id=f[1],t.next=32,e.getTransaction(v);case 32:return t.next=34,e.getConfirmations(v);case 34:e.initEnd=!0,t.next=56;break;case 37:if(!(!1===e.initEnd&&p>0)){t.next=50;break}return b=e.executedList[0],y=b.text.split("-"),x=parseInt(y[1]),e.order.status=!0,e.order.id=y[1],t.next=45,e.getTransaction(x);case 45:return t.next=47,e.getConfirmations(x);case 47:e.initEnd=!0,t.next=56;break;case 50:if(!e.initEnd){t.next=56;break}if(""===e.order.id){t.next=56;break}return t.next=54,e.getTransaction(e.order.id);case 54:return t.next=56,e.getConfirmations(e.order.id);case 56:t.next=60;break;case 58:t.prev=58,t.t0=t["catch"](2);case 60:case"end":return t.stop()}}),t,null,[[2,58]])})))()},getTransaction:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var i,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.multiSigContract.methods.getTransaction(e).call({from:t.wallet});case 3:if(t.transaction=n.sent,!(t.transaction.length>0)){n.next=23;break}if(t.order.token=t.transaction[0],t.order.address=t.transaction[1],t.order.token!==t.zeroAddress){n.next=12;break}t.order.amount=t.amountFromChainByDecimal(4,t.transaction[2],18),t.order.symbol=t.chainSymbol,n.next=23;break;case 12:if(i=new t.web3.eth.Contract(p["a"],t.order.token),i){n.next=16;break}return console.error("contract error"),n.abrupt("return");case 16:return n.next=18,i.methods.decimals().call();case 18:return a=n.sent,t.order.amount=t.amountFromChainByDecimal(4,t.transaction[2],a),n.next=22,i.methods.symbol().call();case 22:t.order.symbol=n.sent;case 23:n.next=27;break;case 25:n.prev=25,n.t0=n["catch"](0);case 27:case"end":return n.stop()}}),n,null,[[0,25]])})))()},getConfirmations:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var i,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.multiSigContract.methods.getConfirmations(e).call({from:t.wallet});case 3:for(i=n.sent,t.isConfirmed=!1,t.isApply=!1,t.numList=[],t.numList=t.initNumList,a=0;a<i.length;a++)i[0].toLowerCase()===t.wallet.toLowerCase()&&(t.isApply=!0),t.numList[a].name=t.numList[a].name+"  "+Object(d["p"])(i[a],4,4),i[a].toLowerCase()===t.wallet.toLowerCase()&&(t.isConfirmed=!0);t.currentProgress=i.length,t.required>0&&i.length==t.required?t.order.status=!0:t.order.status=!1,n.next=15;break;case 13:n.prev=13,n.t0=n["catch"](0);case 15:case"end":return n.stop()}}),n,null,[[0,13]])})))()},amountFromChain:function(e,t){var n=new g.a(t).div(this.multiplier()).toString(10);return Object(d["o"])(e,n)},amountFromChainByDecimal:function(e,t,n){var i=Number(n),a=new g.a(t).div(new g.a(10).pow(i)).toString(10);return Object(d["o"])(e,a)},amountToChain:function(e){return new g.a(e).times(this.multiplier()).toString(10)},multiplier:function(){var e=Number(this.decimals);return new g.a(10).pow(e)},unlock:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,i,a,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!==e.multiSigAddress){t.next=3;break}return e.addressError=!0,t.abrupt("return");case 3:return e.addressError=!1,e.multiSigAddress=e.multiSigAddress.trim(),e.multiSigContract=null,e.unlockLoading=!0,e.abiFaultStatus=!1,n=c["a"][7].api,i=c["a"][7].key,a="0xc648307E5e3Fd7D46Cfd536CA5fb460b8B9Cc024",t.prev=11,t.next=14,Object(l["a"])(n,{module:"contract",action:"getabi",address:a,apikey:i});case 14:if(r=t.sent,"1"!==r.status){t.next=27;break}return s=JSON.parse(r.result),t.next=19,e.generateContract(s);case 19:return t.next=21,e.getBaseInfos();case 21:return t.next=23,e.queryBalance(e.chainCoins);case 23:return t.next=25,e.getAllTrans();case 25:t.next=28;break;case 27:"0"===r.status&&(console.log("get abi: fail"),e.abiFaultStatus=!0);case 28:t.next=34;break;case 30:t.prev=30,t.t0=t["catch"](11),e.abiFaultStatus=!0,console.log(t.t0);case 34:e.unlockLoading=!1;case 35:case"end":return t.stop()}}),t,null,[[11,30]])})))()},getAllTrans:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.multiSigContract.methods.getAllTransactions().call();case 3:if(n=t.sent,!(n.length>0)){t.next=6;break}return t.delegateYield(regeneratorRuntime.mark((function t(){var i,a,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:i=n.map((function(e,t){return e.token})),a=regeneratorRuntime.mark((function t(n){var a,r,s,o,c,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=e.tableData.some((function(e){return e.address===i[n]})),!a){t.next=3;break}return t.abrupt("return","continue");case 3:if(r={symbol:"",address:"",balance:""},s=0,i[n]!==e.zeroAddress){t.next=14;break}return t.next=8,e.web3.eth.getBalance(e.multiSigAddress);case 8:s=t.sent,r.symbol=e.chainSymbol,r.address=i[n],r.balance=e.amountFromChainByDecimal(2,s,18),t.next=30;break;case 14:return o=new e.web3.eth.Contract(p["a"],i[n]),t.next=17,o.methods.balanceOf(e.multiSigAddress).call();case 17:if(s=t.sent,c=18,l="",!new g.a(s).gt(0)){t.next=27;break}return t.next=23,o.methods.decimals().call();case 23:return c=t.sent,t.next=26,o.methods.symbol().call();case 26:l=t.sent;case 27:r.symbol=l,r.address=i[n],r.balance=e.amountFromChainByDecimal(2,s,c);case 30:new g.a(r.balance).gt(0)&&(e.showTable=!0),e.tableData.push(r);case 32:case"end":return t.stop()}}),t)})),r=0;case 3:if(!(r<i.length)){t.next=11;break}return t.delegateYield(a(r),"t0",5);case 5:if(s=t.t0,"continue"!==s){t.next=8;break}return t.abrupt("continue",8);case 8:r++,t.next=3;break;case 11:case"end":return t.stop()}}),t)}))(),"t0",6);case 6:t.next=10;break;case 8:t.prev=8,t.t1=t["catch"](0);case 10:case"end":return t.stop()}}),t,null,[[0,8]])})))()},generateContract:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!t.isEmptyObj(t.web3)){n.next=2;break}return n.abrupt("return");case 2:t.multiSigContract=new t.web3.eth.Contract(e,t.multiSigAddress),t.multiSigContract&&(t.withdrawStep=1);case 4:case"end":return n.stop()}}),n)})))()},querySearch:function(e,t){var n=this.chainCoins;e&&n.filter(this.createFilter(e));t(n)},createFilter:function(e){return function(t){return 0===t.value.toLowerCase().indexOf(e.toLowerCase())}},handleSelect:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.applyForm.coinValue=e.value,t.applyForm.tokenAddress=e.address,n.next=4,t.createTokenContract();case 4:case"end":return n.stop()}}),n)})))()},handleIconClick:function(e){},createTokenContract:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.checkWeb3()){t.next=2;break}return t.abrupt("return");case 2:if(""!==e.applyForm.tokenAddress&&e.applyForm.tokenAddress!==e.zeroAddress){t.next=5;break}return e.decimals=18,t.abrupt("return");case 5:if(e.tokenContract=new e.web3.eth.Contract(p["a"],e.applyForm.tokenAddress),e.tokenContract){t.next=9;break}return console.error("init contract error"),t.abrupt("return");case 9:return t.next=11,e.tokenContract.methods.decimals().call();case 11:e.decimals=t.sent;case 12:case"end":return t.stop()}}),t)})))()},addressCheckReset:function(){this.addressCheckLoading=!1,this.addressCheckStatus=-1},addressCheck:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,i,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!==e.applyForm.coinValue){t.next=2;break}return t.abrupt("return");case 2:n=0;case 3:if(!(n<e.chainCoins.length)){t.next=9;break}if(e.applyForm.coinValue!==e.chainCoins[n].value){t.next=6;break}return t.abrupt("return");case 6:n++,t.next=3;break;case 9:if(e.checkWeb3()){t.next=11;break}return t.abrupt("return");case 11:if(e.applyForm.coinValue=e.applyForm.coinValue.trim(),!1!==e.web3.utils.isAddress(e.applyForm.coinValue)){t.next=15;break}return e.addressCheckStatus=1,t.abrupt("return");case 15:return e.addressCheckLoading=!0,t.prev=16,e.tokenContract=new e.web3.eth.Contract(p["a"],e.applyForm.coinValue),t.next=20,e.tokenContract.methods.symbol().call();case 20:if(i=t.sent,e.applyForm.tokenAddress=e.applyForm.coinValue,a={value:i,longName:e.applyForm.coinValue,address:e.applyForm.coinValue,decimals:18},e.chainCoins.push(a),e.applyForm.coinValue=i,e.addressCheckStatus=0,e.addressCheckLoading=!1,!e.tokenContract){t.next=31;break}return t.next=30,e.tokenContract.methods.decimals().call();case 30:e.decimals=t.sent;case 31:return a["decimals"]=e.decimals,r=[],r.push(a),t.next=36,e.queryBalance(r);case 36:t.next=42;break;case 38:t.prev=38,t.t0=t["catch"](16),e.addressCheckStatus=1,e.addressCheckLoading=!1;case 42:case"end":return t.stop()}}),t,null,[[16,38]])})))()},checkWeb3:function(){return!!this.web3||(this.$message({message:this.$t("coin.connectWallet"),type:"error",duration:1500}),!1)},checkUnlock:function(){return!!this.multiSigContract||(this.$message({message:this.$t("coin.unlockMultiSig"),type:"error",duration:1500}),!1)},isEmptyObj:function(e){return 0===Object.keys(e).length},createContract:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,i,a,r,s,o,c,u,d,p,m,g;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.isEmptyObj(e.web3)){t.next=2;break}return t.abrupt("return");case 2:for(n="",i="",a=[],r=0;r<e.dynamicForm.owners.length;r++)a.push(e.dynamicForm.owners[r].value.trim());return s=e.dynamicForm.required,o={chain:e.chainId,sourcename:"multisig",owners:a,required:s,opensource:e.opensource,address:e.wallet},e.device&&(o["device"]=e.device),e.stepDialogVisible=!0,e.createLoading=!0,e.stepError=!1,e.stepNo=0,e.multiSigAddress="",c="",u="0",t.prev=16,t.next=19,Object(l["c"])("/api/v1/web/multisig/generate",o);case 19:d=t.sent,e.requestData=o,d=d.data,n=d.bytecode,i=d.abi,e.apiKey=d.apikey,c=d.service,u=d.gasfee,t.next=34;break;case 29:t.prev=29,t.t0=t["catch"](16),console.log("Compile error"),e.createLoading=!1,e.stepError=!0;case 34:if(""!==i){t.next=36;break}return t.abrupt("return");case 36:e.stepInc(),p=new e.web3.eth.Contract(i),m=e,g=[],g.push(a),g.push(s),g.push(c),p.deploy({data:n,arguments:g}).send({from:e.wallet,value:u},(function(e,t){})).on("error",(function(e){m.createLoading=!1,m.stepError=!0})).on("transactionHash",(function(e){m.stepInc(),m.hashNotify(e)})).on("receipt",(function(e){m.multiSigAddress!==e.contractAddress&&(m.stepInc(),m.multiSigAddress=e.contractAddress,m.opensource&&(m.openSourceLink=m.scanUrl+"address/"+m.multiSigAddress+"#code"),m.opensource?("unknown"===m.apiKey?setTimeout((function(){m.createLoading=!1,m.stepError=!0}),3e4):setTimeout((function(){m.checkOpensource()}),1e4),m.notifyInstance.close()):(m.notifyInstance.close(),m.markSourceCode()))}));case 44:case"end":return t.stop()}}),t,null,[[16,29]])})))()},checkOpensource:function(){var e=this,t=this;Object(l["a"])(this.apiUrl,{module:"contract",action:"getabi",address:this.multiSigAddress,apikey:this.apiKey}).then((function(e){"1"===e.status?(t.verifySuccessDeal(),t.markSourceCode()):setTimeout((function(){t.submitSourceCode()}),15e3)})).catch((function(t){e.createLoading=!1}))},submitSourceCode:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.requestData["contract"]=e.multiSigAddress,t.next=4,Object(l["c"])("/api/v1/web/verify",e.requestData);case 4:n=t.sent,"1"===n.status&&setTimeout((function(){e.checkVerifyStatus(n.result)}),2e4),t.next=13;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log("error: ",t.t0),e.createLoading=!1,e.stepError=!0;case 13:case"end":return t.stop()}}),t,null,[[0,8]])})))()},markSourceCode:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,n={contract:e.multiSigAddress,address:e.wallet},t.next=4,Object(l["c"])("/api/v1/web/mark",n);case 4:t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),console.log("error: ",t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))()},checkVerifyStatus:function(e){var t=this,n={module:"contract",action:"checkverifystatus",guid:e,apikey:this.apiKey};Object(l["a"])(this.apiUrl,n).then((function(e){"1"===e.status?t.verifySuccessDeal():"0"===e.status&&(e.result.indexOf("Verified")>-1||e.result.indexOf("verified")>-1?t.verifySuccessDeal():e.result.indexOf("queue")>-1&&setTimeout((function(){Object(l["a"])(t.apiUrl,n).then((function(e){"1"===e.status&&t.verifySuccessDeal()})).catch((function(e){console.log("error",e)}))}),1e4))})).catch((function(e){console.log("error",e)}))},stepInc:function(){this.stepNo++,this.stepNo>this.stepFinishedNo&&(this.createLoading=!1)},verifySuccessDeal:function(){this.stepInc(),this.createLoading=!1,"mobile"===this.device&&this.$message({type:"success",center:!0,dangerouslyUseHTMLString:!0,message:"<strong>"+this.$t("global.success")+"</strong>"})},hashNotify:function(e){var t=this.scanUrl+"tx/"+e;"mobile"===this.device&&(t="javaScript:void(0);");var n="View on "+this.scan+" : "+e.substring(0,8)+"...",i=this.$t("coin.transDetails"),a=Object(d["i"])(i,t,n);this.notifyInstance=this.$notify({dangerouslyUseHTMLString:!0,message:a,duration:8e3,customClass:"notify-class",showClose:!1})},closeStepDailog:function(){this.stepDialogVisible=!1,this.createLoading=!1},stringIntercept:function(e,t,n){return Object(d["p"])(e,t,n)},submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;t.createContract()}))},removeOwner:function(e){var t=this.dynamicForm.owners.indexOf(e);-1!==t&&this.dynamicForm.owners.splice(t,1)},addOwner:function(){this.dynamicForm.owners.push({value:"",key:Date.now()})},success:function(){this.$message({type:"success",center:!0,dangerouslyUseHTMLString:!0,message:"<strong>"+this.$t("global.success")+"</strong>"})},wait:function(){this.$message({type:"warning",center:!0,dangerouslyUseHTMLString:!0,message:"<strong>"+this.$t("global.tryAgainLater")+"</strong>"})},fail:function(){this.$message({type:"error",center:!0,dangerouslyUseHTMLString:!0,message:"<strong>"+this.$t("global.fail")+"</strong>"})},handleCopy:function(e,t){Object(u["a"])(e,t)}}},f=h,v=(n("a640c"),n("2877")),b=Object(v["a"])(f,i,a,!1,null,"6041f3b6",null);t["default"]=b.exports},a640c:function(e,t,n){"use strict";n("35c6")}}]);